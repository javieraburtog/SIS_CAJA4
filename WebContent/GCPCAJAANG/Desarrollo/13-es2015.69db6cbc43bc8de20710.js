(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{zHkB:function(e,i,t){"use strict";t.r(i);var o=t("ofXK"),n=t("tyNb"),r=t("fXoL"),a=t("2MiI"),s=t("0oYm"),c=t("mrSG"),d=t("XNiG"),l=t("1kSV"),b=t("SX+u"),h=t("Kj3r"),g=t("JMRq"),m=t("VADE"),u=t("tk/3"),p=t("AytR");let E=(()=>{class e{constructor(e,i,t){this.httpClient=e,this.route=i,this.storage=t}consultarLineasNegocio(){this.route.queryParams.subscribe(e=>{null==e.id?this.usernameParam=this.storage.get("username"):(console.log("Leer username param en url: ",e.id),this.usernameParam=e.id)});let e={parameters:[this.usernameParam,p.a.NOMBRE_APPLICACION]};console.log(e);let i={headers:new u.d({"Content-Type":p.a.CONTENT_TYPE,"GCP-API-KEY":p.a.GCP_API_KEY,"APP-MOD-CODE":p.a.APP_MOD_CODE,"APP-CODE":p.a.APP_CODE,parametros:JSON.stringify(e)})};return this.httpClient.get(p.a.GCPCAJAWSREST_URL+p.a.CONTEXTO_WS_CONFIG_UNINEGREST+"/consultarLineasNegocio",i)}consultarTodo(e,i){this.route.queryParams.subscribe(e=>{null==e.id?this.usernameParam=this.storage.get("username"):(console.log("Leer username param en url: ",e.id),this.usernameParam=e.id)});let t={parameters:[e,i,this.usernameParam,p.a.NOMBRE_APPLICACION]};console.log(t);let o={headers:new u.d({"Content-Type":p.a.CONTENT_TYPE,"GCP-API-KEY":p.a.GCP_API_KEY,"APP-MOD-CODE":p.a.APP_MOD_CODE,"APP-CODE":p.a.APP_CODE,parametros:JSON.stringify(t)})};return this.httpClient.get(p.a.GCPCAJAWSREST_URL+p.a.CONTEXTO_WS_CONFIG_LINEASISDOC+"/consultarTodo",o)}actualizar(e,i,t,o,n,r,a,s){let c=JSON.stringify([{identificador:{parameters:[e.toString()]}},{codigolinea:{parameters:[i]}},{sistema:{parameters:[t]}},{tipodoc:{parameters:[o]}},{reqnodocumento:{parameters:[n]}},{reqhojaneg:{parameters:[r]}},{reqcodcliente:{parameters:[a]}},{estado:{parameters:[s]}},{usuarioCrea:{parameters:[this.storage.get("username")]}},{aplicacion:{parameters:[p.a.NOMBRE_APPLICACION]}}]),d={headers:new u.d({"Content-Type":p.a.CONTENT_TYPE,"GCP-API-KEY":p.a.GCP_API_KEY,"APP-MOD-CODE":p.a.APP_MOD_CODE,"APP-CODE":p.a.APP_CODE})};return this.httpClient.put(p.a.GCPCAJAWSREST_URL+p.a.CONTEXTO_WS_CONFIG_LINEASISDOC+"/actualizar",c,d)}insertar(e,i,t,o,n,r,a){let s=JSON.stringify({parameters:[e]}),c=JSON.stringify({parameters:[i]}),d=JSON.stringify({parameters:[t]}),l=JSON.stringify({parameters:[o]}),b=JSON.stringify({parameters:[n]}),h=JSON.stringify({parameters:[r]}),g=JSON.stringify({parameters:[a]}),m=JSON.stringify({parameters:[this.storage.get("username")]}),E=JSON.stringify({parameters:[p.a.NOMBRE_APPLICACION]}),C={headers:new u.d({"Content-Type":p.a.CONTENT_TYPE,"GCP-API-KEY":p.a.GCP_API_KEY,"APP-MOD-CODE":p.a.APP_MOD_CODE,"APP-CODE":p.a.APP_CODE,codigolinea:s,sistema:c,tipodoc:d,reqnodocumento:l,reqhojaneg:b,reqcodcliente:h,estado:g,usuarioCrea:m,aplicacion:E})};return this.httpClient.post(p.a.GCPCAJAWSREST_URL+p.a.CONTEXTO_WS_CONFIG_LINEASISDOC+"/insertar",JSON.stringify("{}"),C)}eliminar(e){this.route.queryParams.subscribe(e=>{null==e.id?this.usernameParam=this.storage.get("username"):(console.log("Leer username param en url: ",e.id),this.usernameParam=e.id)});let i={parameters:[e.toString(),this.usernameParam,p.a.NOMBRE_APPLICACION]};console.log(i);let t={headers:new u.d({"Content-Type":p.a.CONTENT_TYPE,"GCP-API-KEY":p.a.GCP_API_KEY,"APP-MOD-CODE":p.a.APP_MOD_CODE,"APP-CODE":p.a.APP_CODE,parametros:JSON.stringify(i)})};return this.httpClient.delete(p.a.GCPCAJAWSREST_URL+p.a.CONTEXTO_WS_CONFIG_LINEASISDOC+"/eliminar",t)}}return e.\u0275fac=function(i){return new(i||e)(r.Zb(u.b),r.Zb(n.a),r.Zb(b.a))},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=t("3Pt+");function f(e,i){if(1&e){const e=r.Sb();r.Rb(0,"tr",27),r.dc("click",(function(){r.uc(e);const t=i.$implicit,o=r.fc(),n=r.tc(58);return o.onRowClic(t.identificador,t.codigolinea,t.sistema,t.tipodoc,t.reqnodocumento,t.reqhojaneg,t.reqcodcliente,t.estado),o.open(n)})),r.Rb(1,"td"),r.Nb(2,"ngb-highlight",28),r.Qb(),r.Rb(3,"td"),r.Nb(4,"ngb-highlight",28),r.Qb(),r.Rb(5,"td"),r.Nb(6,"ngb-highlight",28),r.Qb(),r.Rb(7,"td"),r.Nb(8,"ngb-highlight",28),r.Qb(),r.Rb(9,"td"),r.Nb(10,"ngb-highlight",28),r.Qb(),r.Rb(11,"td"),r.Nb(12,"ngb-highlight",28),r.Qb(),r.Rb(13,"td"),r.Nb(14,"ngb-highlight",28),r.Qb(),r.Qb()}if(2&e){const e=i.$implicit,t=r.fc();r.zb(2),r.lc("result",e.codigolinea),r.zb(2),r.lc("result",e.sistema),r.zb(2),r.lc("result",e.tipodoc),r.zb(2),r.lc("result",t.formatearSiNo(e.reqnodocumento)),r.zb(2),r.lc("result",t.formatearSiNo(e.reqhojaneg)),r.zb(2),r.lc("result",t.formatearSiNo(e.reqcodcliente)),r.zb(2),r.lc("result",t.formatearSiNo(e.estado))}}function R(e,i){1&e&&r.Cc(0,"<<")}function O(e,i){1&e&&r.Cc(0,">>")}function P(e,i){1&e&&(r.Rb(0,"div",29),r.Rb(1,"span",30),r.Cc(2,"Cargando..."),r.Qb(),r.Qb())}function S(e,i){if(1&e&&(r.Rb(0,"option",64),r.Cc(1),r.Qb()),2&e){const e=i.$implicit;r.mc("value",e.drky),r.zb(1),r.Fc("",e.drky,"-",e.drdl01.trim(),"")}}function N(e,i){1&e&&(r.Rb(0,"div",29),r.Rb(1,"span",30),r.Cc(2,"Procesando..."),r.Qb(),r.Qb())}function v(e,i){if(1&e){const e=r.Sb();r.Rb(0,"ngb-alert",65),r.dc("close",(function(){return r.uc(e),r.fc(2).successMessage=""})),r.Cc(1),r.Qb()}if(2&e){const e=r.fc(2);r.zb(1),r.Dc(e.successMessage)}}function Q(e,i){if(1&e){const e=r.Sb();r.Rb(0,"ngb-alert",66),r.dc("close",(function(){return r.uc(e),r.fc(2).errorMessage=""})),r.Cc(1),r.Qb()}if(2&e){const e=r.fc(2);r.zb(1),r.Dc(e.errorMessage)}}function _(e,i){if(1&e){const e=r.Sb();r.Rb(0,"div",31),r.Rb(1,"h4",32),r.Cc(2,"Configuraci\xf3n L\xednea-Sistema-Tipo Documento"),r.Qb(),r.Rb(3,"button",33),r.dc("click",(function(){return i.$implicit.dismiss("close")})),r.Rb(4,"span",34),r.Cc(5,"\xd7"),r.Qb(),r.Qb(),r.Qb(),r.Rb(6,"div",35),r.Rb(7,"form",36),r.Rb(8,"div",37),r.Rb(9,"div",38),r.Rb(10,"div",39),r.Rb(11,"div",40),r.Rb(12,"label",41),r.Cc(13,"L\xednea de Negocio"),r.Qb(),r.Rb(14,"select",42),r.dc("ngModelChange",(function(i){return r.uc(e),r.fc().codigoLineaEnEdicion=i})),r.Ac(15,S,2,3,"option",43),r.Qb(),r.Qb(),r.Qb(),r.Rb(16,"div",39),r.Rb(17,"div",40),r.Rb(18,"label",44),r.Cc(19,"Sistema"),r.Qb(),r.Rb(20,"div",45),r.Rb(21,"input",46),r.dc("ngModelChange",(function(i){return r.uc(e),r.fc().sistemaEnEdicion=i})),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(22,"div",39),r.Rb(23,"div",40),r.Rb(24,"label",47),r.Cc(25,"Tipo Documento"),r.Qb(),r.Rb(26,"div",45),r.Rb(27,"input",48),r.dc("ngModelChange",(function(i){return r.uc(e),r.fc().tipodocEnEdicion=i})),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(28,"div",39),r.Rb(29,"div",40),r.Rb(30,"label",49),r.Cc(31,"Req. # Documento"),r.Qb(),r.Rb(32,"select",50),r.dc("ngModelChange",(function(i){return r.uc(e),r.fc().reqNoDocumentoEnEdicion=i})),r.Rb(33,"option",51),r.Cc(34,"SI"),r.Qb(),r.Rb(35,"option",52),r.Cc(36,"NO"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(37,"div",39),r.Rb(38,"div",40),r.Rb(39,"label",53),r.Cc(40,"Req. Hoja Neg."),r.Qb(),r.Rb(41,"select",54),r.dc("ngModelChange",(function(i){return r.uc(e),r.fc().reqHojaNegEnEdicion=i})),r.Rb(42,"option",51),r.Cc(43,"SI"),r.Qb(),r.Rb(44,"option",52),r.Cc(45,"NO"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(46,"div",39),r.Rb(47,"div",40),r.Rb(48,"label",55),r.Cc(49,"Req. Cod. Cliente"),r.Qb(),r.Rb(50,"select",56),r.dc("ngModelChange",(function(i){return r.uc(e),r.fc().reqCodClienteEnEdicion=i})),r.Rb(51,"option",51),r.Cc(52,"SI"),r.Qb(),r.Rb(53,"option",52),r.Cc(54,"NO"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(55,"div",39),r.Rb(56,"div",40),r.Rb(57,"label",57),r.Cc(58,"Estado"),r.Qb(),r.Rb(59,"select",58),r.dc("ngModelChange",(function(i){return r.uc(e),r.fc().estadoEnEdicion=i})),r.Rb(60,"option",51),r.Cc(61,"SI"),r.Qb(),r.Rb(62,"option",52),r.Cc(63,"NO"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(64,"div",59),r.Ac(65,N,3,0,"div",19),r.Ac(66,v,2,1,"ngb-alert",60),r.Ac(67,Q,2,1,"ngb-alert",61),r.Rb(68,"button",62),r.dc("click",(function(){return i.$implicit.dismiss("close")})),r.Cc(69,"Cerrar"),r.Qb(),r.Rb(70,"button",63),r.dc("click",(function(){r.uc(e);const i=r.fc();return i.btnGuardarClicked=!0,i.siGuardando=!0,i.guardarInformacion()})),r.Cc(71,"Guardar"),r.Qb(),r.Qb()}if(2&e){const e=r.fc();r.zb(14),r.lc("ngModel",e.codigoLineaEnEdicion),r.zb(1),r.lc("ngForOf",e.listaLNegocio),r.zb(6),r.lc("ngModel",e.sistemaEnEdicion),r.zb(6),r.lc("ngModel",e.tipodocEnEdicion),r.zb(5),r.lc("ngModel",e.reqNoDocumentoEnEdicion),r.zb(9),r.lc("ngModel",e.reqHojaNegEnEdicion),r.zb(9),r.lc("ngModel",e.reqCodClienteEnEdicion),r.zb(9),r.lc("ngModel",e.estadoEnEdicion),r.zb(6),r.lc("ngIf",e.siGuardando),r.zb(1),r.lc("ngIf",e.successMessage),r.zb(1),r.lc("ngIf",e.errorMessage),r.zb(3),r.lc("disabled",e.btnGuardarClicked)}}function M(e,i){if(1&e){const e=r.Sb();r.Rb(0,"div",31),r.Rb(1,"h4",67),r.Cc(2,"Borrar registro"),r.Qb(),r.Rb(3,"button",68),r.dc("click",(function(){return i.$implicit.dismiss("Cross click")})),r.Rb(4,"span",34),r.Cc(5,"\xd7"),r.Qb(),r.Qb(),r.Qb(),r.Rb(6,"div",35),r.Rb(7,"p"),r.Rb(8,"strong"),r.Cc(9,"Est\xe1 seguro de eliminar el registro?"),r.Qb(),r.Qb(),r.Rb(10,"p"),r.Rb(11,"span",69),r.Cc(12,"Esta operacion no se puede deshacer."),r.Qb(),r.Qb(),r.Qb(),r.Rb(13,"div",59),r.Rb(14,"button",70),r.dc("click",(function(){return i.$implicit.dismiss("cancel click")})),r.Cc(15,"Cancelar"),r.Qb(),r.Rb(16,"button",71),r.dc("click",(function(){return r.uc(e),r.fc().eliminarRegistro()})),r.Cc(17,"Borrar"),r.Qb(),r.Qb()}}let A=(()=>{class e{constructor(e,i,t,o,n,r,a){this.orderPipe=e,this.pipe=i,this.configLineaSisDocService=t,this.modalService=o,this.location=n,this.route=r,this.storage=a,this._success=new d.a,this.successMessage="",this._error=new d.a,this.errorMessage="",this.modoEdicion=0,this.userid="",this.vista="lineasisdoc",this.closeResult="",this.page=1,this.pageSize=4,this.btnGuardarClicked=!1,this.siGuardando=!1,this.siCargandoDatos=!1,this.limiteInicial=1,this.offset=10,this.filtroTabla={$or:[{codigolinea:""},{sistema:""},{tipodoc:""}]},this.codigoAscendente=!1,this.descripcionAscendente=!0,this.columnaActual="",this.tipoOrdenPorDefecto=!1,this.onPageChange=(e,i)=>{console.log("Pagina actual",e," | Elementos por pagina: ",i," | Ultima pagina: ",Math.ceil(this.regs.length/i))}}ngOnInit(){this.userid=this.storage.get("username"),console.log("Lineasisdoc onInit"),this.route.queryParams.subscribe(e=>{console.log("Lineasisdoc onInit: usuario, vista: ",this.userid,",",e.v),this.location.replaceState("/index.html?id="+this.userid+"&v=lineasisdoc")}),this.siCargandoDatos=!0,this.configLineaSisDocService.consultarLineasNegocio().subscribe(e=>{this.listaLNegocio=e}),this.configLineaSisDocService.consultarTodo(this.limiteInicial,this.offset).subscribe(e=>{this.collectionSize=e.length,this.regs=e,this.registrosOrdenadosFiltrados=this.regs,console.log("CollectionSize: ",this.collectionSize),console.log("Data consultarPorId: ",e),this.siCargandoDatos=!1}),this._success.subscribe(e=>this.successMessage=e),this._success.pipe(Object(h.a)(5e3)).subscribe(()=>this.successMessage=""),this._error.subscribe(e=>this.errorMessage=e),this._error.pipe(Object(h.a)(5e3)).subscribe(()=>this.errorMessage="")}getDismissReason(e){return e===l.a.ESC?"by pressing ESC":e===l.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}get obtenerRegistros(){if(void 0!==this.registrosOrdenadosFiltrados)return console.log("obtenerRegistros"),this.registrosOrdenadosFiltrados.map((e,i)=>Object.assign({id:i+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onRowClic(e,i,t,o,n,r,a,s){this.modoEdicion=2,this.identificadorEnEdicion=e,this.codigoLineaEnEdicion=i,this.sistemaEnEdicion=t,this.tipodocEnEdicion=o,this.reqNoDocumentoEnEdicion=n,this.reqHojaNegEnEdicion=r,this.reqCodClienteEnEdicion=a,this.estadoEnEdicion=s}onBtnNuevoClic(){this.modoEdicion=1,this.identificadorEnEdicion=0,this.codigoLineaEnEdicion="",this.sistemaEnEdicion="",this.tipodocEnEdicion="",this.reqNoDocumentoEnEdicion=1,this.reqHojaNegEnEdicion=1,this.reqCodClienteEnEdicion=1,this.estadoEnEdicion=1}open(e){this.location.replaceState("/index.html?id="+this.userid+"&v="+this.vista),this.modalReference=this.modalService.open(e,{size:"xl",ariaLabelledBy:"modal-basic-title"}),this.modalReference.result.then(e=>{console.log("resultado: ",e),this.closeResult=`Cerrado con: ${e}`,"save"==e?console.log("Validar campos: "):console.log("Se cerro ventana. Limpiar campos en edicion")},e=>{console.log("Se cerro ventana. Limpiar campos en edidcion"),this.closeResult=`Raz\xf3n ${this.getDismissReason(e)}`})}confirmaBorrar(e){this.location.replaceState("/index.html?id="+this.userid+"&v="+this.vista),this.modalReference=this.modalService.open(e,{size:"sm",ariaLabelledBy:"modal-basic-title"}),this.modalReference.result.then(e=>{console.log("resultado: ",e),this.closeResult=`Cerrado con: ${e}`,"save"==e?console.log("Validar campos: "):console.log("Se cerro ventana. Limpiar campos en edicion")},e=>{console.log("Se cerro ventana. Limpiar campos en edidcion"),this.closeResult=`Raz\xf3n ${this.getDismissReason(e)}`})}validarCamposAntesDeGuardar(){if(!(null!=this.codigoLineaEnEdicion&&this.codigoLineaEnEdicion.length>1&&this.codigoLineaEnEdicion.indexOf(" ")<0))return this._error.next("El campo L\xednea de Negocio no puede ser vac\xedo ni puede contener espacios en blanco."),!1;if(this.codigoLineaEnEdicion.length>255)return this._error.next("Campo L\xednea de Negocios: 255 caracteres m\xe1ximo"),!1;let e=/^[a-zA-Z0-9_.-]*$/;return e.test(this.codigoLineaEnEdicion.toString())?null!=this.sistemaEnEdicion&&this.sistemaEnEdicion.length>1&&this.sistemaEnEdicion.indexOf(" ")<0?this.sistemaEnEdicion.length>255?(this._error.next("Campo Sistema no puede ser mayor a 255 caracteres"),!1):e.test(this.sistemaEnEdicion.toString())?null!=this.tipodocEnEdicion&&this.tipodocEnEdicion.length>1&&this.tipodocEnEdicion.indexOf(" ")<0?this.tipodocEnEdicion.length>100?(this._error.next("Campo T. Maestra no puede ser mayor a 50 caracteres"),!1):e.test(this.tipodocEnEdicion.toString())?(console.log(this.reqNoDocumentoEnEdicion),null==this.reqNoDocumentoEnEdicion||0!=this.reqNoDocumentoEnEdicion&&1!=this.reqNoDocumentoEnEdicion?(this._error.next("El campo Req. # Documento debe tener valor SI (0) o NO (1)"),!1):null==this.reqHojaNegEnEdicion||0!=this.reqHojaNegEnEdicion&&1!=this.reqHojaNegEnEdicion?(this._error.next("El campo Req. Hoja Neg. debe tener valor SI (0) o NO (1)"),!1):null==this.reqCodClienteEnEdicion||0!=this.reqCodClienteEnEdicion&&1!=this.reqCodClienteEnEdicion?(this._error.next("El campo Req. Cod. Cliente debe tener valor SI (0) o NO (1)"),!1):null==this.estadoEnEdicion||0!=this.estadoEnEdicion&&1!=this.estadoEnEdicion?(this._error.next("El campo Estado debe tener valor SI (0) o NO (1)"),!1):(console.log("Proceder a guardar datos"),!0)):(this._error.next("Campo Tipo Documento solamente debe tener caracteres alfanum\xe9ricos"),!1):(this._error.next("El Tipo Documento no puede ser vac\xedo ni puede contener espacios en blanco."),!1):(this._error.next("Campo Sistema solamente debe tener caracteres alfanum\xe9ricos"),!1):(this._error.next("El Sistema no puede ser vac\xedo ni puede contener espacios en blanco."),!1):(this._error.next("Campo L\xednea de Negocios solamente debe tener caracteres alfanum\xe9ricos"),!1)}guardarInformacion(){return Object(c.a)(this,void 0,void 0,(function*(){let e=this.validarCamposAntesDeGuardar();if(e){if(2==this.modoEdicion){let e=yield new Promise((e,i)=>{this.configLineaSisDocService.actualizar(this.identificadorEnEdicion,this.codigoLineaEnEdicion,this.sistemaEnEdicion,this.tipodocEnEdicion,this.reqNoDocumentoEnEdicion,this.reqHojaNegEnEdicion,this.reqCodClienteEnEdicion,this.estadoEnEdicion).subscribe(i=>{i.length>0&&("true"==i[0]?(this._success.next("Informacion guardada exitosamente"),this.cerrarModal(),this.modoEdicion=1,this.identificadorEnEdicion=0,this.codigoLineaEnEdicion="",this.sistemaEnEdicion="",this.tipodocEnEdicion="",this.reqNoDocumentoEnEdicion=1,this.reqHojaNegEnEdicion=1,this.reqCodClienteEnEdicion=1,this.estadoEnEdicion=1,e(!0)):(this._error.next("Error al intentar guardar informacion"),e(!1))),this.siCargandoDatos=!0,this.configLineaSisDocService.consultarTodo(this.limiteInicial,this.offset).subscribe(e=>{this.regs=e,this.siCargandoDatos=!1,this.registrosOrdenadosFiltrados=this.regs,this.collectionSize=this.registrosOrdenadosFiltrados.length})})});return this.btnGuardarClicked=!1,this.siGuardando=!1,e}if(1==this.modoEdicion){let e=yield new Promise((e,i)=>{this.configLineaSisDocService.insertar(this.codigoLineaEnEdicion,this.sistemaEnEdicion,this.tipodocEnEdicion,this.reqNoDocumentoEnEdicion,this.reqHojaNegEnEdicion,this.reqCodClienteEnEdicion,this.estadoEnEdicion).subscribe(i=>{i.length>0&&("true"==i[0]?(this._success.next("Informacion guardada exitosamente"),this.cerrarModal(),this.modoEdicion=1,this.identificadorEnEdicion=0,this.codigoLineaEnEdicion="",this.sistemaEnEdicion="",this.tipodocEnEdicion="",this.reqNoDocumentoEnEdicion=1,this.reqHojaNegEnEdicion=1,this.reqCodClienteEnEdicion=1,this.estadoEnEdicion=1,e(!0)):(this._error.next("Error al intentar guardar informacion"),e(!1))),this.siCargandoDatos=!0,this.configLineaSisDocService.consultarTodo(this.limiteInicial,this.offset).subscribe(e=>{this.regs=e,this.siCargandoDatos=!1,this.registrosOrdenadosFiltrados=this.regs,this.collectionSize=this.registrosOrdenadosFiltrados.length})})});return this.btnGuardarClicked=!1,this.siGuardando=!1,e}}return this.btnGuardarClicked=!1,this.siGuardando=!1,e}))}cerrarModal(){this.modalReference.close()}onKeySearch(){this.filtroTabla.$or[0].codigolinea=this.searchText,this.filtroTabla.$or[1].sistema=this.searchText,this.filtroTabla.$or[2].tipodoc=this.searchText;let e=this.pipe.transform(this.regs,this.filtroTabla);this.registrosOrdenadosFiltrados=e,this.paginarRegistros()}paginarRegistros(){void 0!==this.registrosOrdenadosFiltrados&&(this.registrosOrdenadosFiltrados=""===this.searchText?this.regs:this.registrosOrdenadosFiltrados.map((e,i)=>Object.assign({identificador:i+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=this.registrosOrdenadosFiltrados.length)}onSort(e){this.columnaActual==e?(this.tipoOrdenActual=!this.tipoOrdenActual,console.log("ordenar por: ",e),this.registrosOrdenadosFiltrados=this.orderPipe.transform(this.registrosOrdenadosFiltrados,e,this.tipoOrdenActual),this.columnaActual=e):(console.log("ordenar por: ",e),this.registrosOrdenadosFiltrados=this.orderPipe.transform(this.registrosOrdenadosFiltrados,e,this.tipoOrdenPorDefecto),this.columnaActual=e,this.tipoOrdenActual=this.tipoOrdenPorDefecto)}onClicBtnEliminar(e){return null!=e&&(this.id_a_eliminar=e,!0)}eliminarRegistro(){return Object(c.a)(this,void 0,void 0,(function*(){(yield new Promise((e,i)=>{this.configLineaSisDocService.eliminar(this.id_a_eliminar).subscribe(i=>{i.length>0&&("true"==i[0]?(this._success.next("Registro borrado"),this.siCargandoDatos=!0,this.configLineaSisDocService.consultarTodo(this.limiteInicial,this.offset).subscribe(e=>{this.regs=e,this.siCargandoDatos=!1,this.registrosOrdenadosFiltrados=this.regs,null!=this.searchText&&null!=this.searchText&&""!=this.searchText&&(console.log("searchText: ",this.searchText),this.onKeySearch())}),e(!0)):(this._error.next("Error al intentar borrar"),e(!1)))})}))&&this.cerrarModal()}))}formatearSiNo(e){return 0==e?"NO":"SI"}}return e.\u0275fac=function(i){return new(i||e)(r.Mb(g.b),r.Mb(m.a),r.Mb(E),r.Mb(l.j),r.Mb(o.h),r.Mb(n.a),r.Mb(b.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-cont-config-lineasisdoc"]],decls:61,vars:17,consts:[[1,"divContenedor"],[1,"table-responsive",2,"max-width","99%"],[1,"container",2,"padding-bottom","1%"],[1,"row","align-items-start"],[1,"col-5","align-self-center"],[1,"col"],[1,"col-5","align-self-start",2,"padding-right","0.75%"],["type","text","name","search","placeholder","Buscar","autocomplete","off",1,"form-control","ml-2","form-control-sm","bi","bi-search",3,"ngModel","keyup","ngModelChange"],[1,"table","table-striped","table-hover","table-bordered","table-sm"],[1,"table-active"],["scope","col",3,"click"],[3,"hidden"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2",2,"padding-right","0.25% !important"],[1,"pagination",3,"collectionSize","page","pageSize","pageChange"],["numPages",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["class","spinner-border text-primary","role","status",4,"ngIf"],["id","itemsPerPage","name","itemsPerPage",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"d-flex"],[1,"ml-auto","p-2",2,"padding-right","0.25% !important"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["content",""],["FormConfirmarEliminar",""],[3,"click"],[3,"result"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","modalEditForm","name","modalEditForm"],[1,"container-fluid"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"form-group"],["for","codigolinea"],["id","codigolinea","name","codigolinea",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","sistema"],[1,"input-group"],["id","sistema","minlength","1","maxlength","50","placeholder","Digite sistema","name","sistema","pattern","[A-Za-z0-9]",1,"form-control",3,"ngModel","ngModelChange"],["for","tipodoc"],["id","tipodoc","name","tipodoc","minlength","1","maxlength","50","placeholder","Digite tipo documento",1,"form-control",3,"ngModel","ngModelChange"],["for","reqnodocumento"],["id","reqnodocumento","name","reqnodocumento",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["for","reqhojaneg"],["id","reqhojaneg","name","reqhojaneg",1,"form-control",3,"ngModel","ngModelChange"],["for","reqcodcliente"],["id","reqcodcliente","name","reqcodcliente",1,"form-control",3,"ngModel","ngModelChange"],["for","estado"],["id","estado","name","estado",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","success",3,"close",4,"ngIf"],["type","danger",3,"close",4,"ngIf"],["type","button",1,"btn","btn-outline-dark","btn-sm",3,"click"],["type","button",1,"btn","btn-success","btn-sm",3,"disabled","click"],[3,"value"],["type","success",3,"close"],["type","danger",3,"close"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,i){if(1&e){const e=r.Sb();r.Rb(0,"div",0),r.Nb(1,"br"),r.Rb(2,"form"),r.Rb(3,"div",1),r.Rb(4,"div",2),r.Rb(5,"div",3),r.Rb(6,"div",4),r.Rb(7,"h5"),r.Cc(8,"Configuraci\xf3n de L\xednea-Sistema-Tipo Documento"),r.Qb(),r.Qb(),r.Nb(9,"div",5),r.Rb(10,"div",6),r.Rb(11,"input",7),r.dc("keyup",(function(){return i.onKeySearch()}))("ngModelChange",(function(e){return i.searchText=e})),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(12,"table",8),r.Rb(13,"thead"),r.Rb(14,"tr",9),r.Rb(15,"th",10),r.dc("click",(function(){return i.onSort("codigolinea")})),r.Cc(16,"C\xf3digo L\xednea"),r.Rb(17,"span",11),r.Cc(18,"\u25bc"),r.Qb(),r.Rb(19,"span",11),r.Cc(20,"\u25b2"),r.Qb(),r.Qb(),r.Rb(21,"th",10),r.dc("click",(function(){return i.onSort("sistema")})),r.Cc(22,"Sistema"),r.Rb(23,"span",11),r.Cc(24,"\u25bc"),r.Qb(),r.Rb(25,"span",11),r.Cc(26,"\u25b2"),r.Qb(),r.Qb(),r.Rb(27,"th",12),r.Cc(28,"Tipo Doc."),r.Qb(),r.Rb(29,"th",12),r.Cc(30,"Req. # Documento"),r.Qb(),r.Rb(31,"th",12),r.Cc(32,"Req. Hoja Neg."),r.Qb(),r.Rb(33,"th",12),r.Cc(34,"Req. Cod. Cliente"),r.Qb(),r.Rb(35,"th",12),r.Cc(36,"Estado"),r.Qb(),r.Qb(),r.Qb(),r.Rb(37,"tbody"),r.Ac(38,f,15,7,"tr",13),r.gc(39,"filterBy"),r.Qb(),r.Qb(),r.Rb(40,"div",14),r.Rb(41,"ngb-pagination",15,16),r.dc("pageChange",(function(e){return i.page=e}))("pageChange",(function(e){return i.onPageChange(e,i.pageSize)})),r.Ac(43,R,1,0,"ng-template",17),r.Ac(44,O,1,0,"ng-template",18),r.Qb(),r.Ac(45,P,3,0,"div",19),r.Rb(46,"select",20),r.dc("ngModelChange",(function(e){return i.pageSize=e})),r.Rb(47,"option",21),r.Cc(48,"2 items por p\xe1gina"),r.Qb(),r.Rb(49,"option",21),r.Cc(50,"4 items por p\xe1gina"),r.Qb(),r.Rb(51,"option",21),r.Cc(52,"6 items por p\xe1gina"),r.Qb(),r.Qb(),r.Qb(),r.Rb(53,"div",22),r.Rb(54,"div",23),r.Rb(55,"button",24),r.dc("click",(function(){r.uc(e);const t=r.tc(58);return i.onBtnNuevoClic(),i.open(t)})),r.Cc(56,"Nuevo registro"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Ac(57,_,72,12,"ng-template",null,25,r.Bc),r.Ac(59,M,18,0,"ng-template",null,26,r.Bc),r.Qb()}2&e&&(r.zb(11),r.lc("ngModel",i.searchText),r.zb(6),r.lc("hidden",""==i.columnaActual||"codigolinea"!=i.columnaActual||"codigolinea"==i.columnaActual&&1==i.tipoOrdenActual),r.zb(2),r.lc("hidden",""==i.columnaActual||"codigolinea"!=i.columnaActual||"codigolinea"==i.columnaActual&&0==i.tipoOrdenActual),r.zb(4),r.lc("hidden",""==i.columnaActual||"sistema"!=i.columnaActual||"sistema"==i.columnaActual&&1==i.tipoOrdenActual),r.zb(2),r.lc("hidden",""==i.columnaActual||"sistema"!=i.columnaActual||"sistema"==i.columnaActual&&0==i.tipoOrdenActual),r.zb(13),r.lc("ngForOf",r.ic(39,14,i.obtenerRegistros,i.filtroTabla)),r.zb(3),r.lc("collectionSize",i.collectionSize)("page",i.page)("pageSize",i.pageSize),r.zb(4),r.lc("ngIf",i.siCargandoDatos),r.zb(1),r.lc("ngModel",i.pageSize),r.zb(1),r.lc("ngValue",2),r.zb(2),r.lc("ngValue",4),r.zb(2),r.lc("ngValue",6))},directives:[C.s,C.j,C.k,C.a,C.i,C.l,o.j,l.l,l.n,l.m,o.k,C.q,C.m,C.r,l.h,C.f,C.e,C.o,l.b],pipes:[m.a],styles:["@media (min-width:1281px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width:1025px) and (max-width:1280px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width:768px) and (max-width:1024px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width:768px) and (max-width:1024px) and (orientation:landscape){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width:481px) and (max-width:767px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width:320px) and (max-width:480px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}"]}),e})();var x=t("LmEr");const D=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=r.Gb({type:e,selectors:[["app-lineasisdoc"]],decls:5,vars:0,consts:[[1,"container"]],template:function(e,i){1&e&&(r.Rb(0,"div",0),r.Nb(1,"app-header"),r.Nb(2,"app-menu"),r.Nb(3,"app-cont-config-lineasisdoc"),r.Nb(4,"app-footer"),r.Qb())},directives:[a.a,s.a,A,x.a],styles:[""]}),e})()}];let z=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(i){return new(i||e)},imports:[[n.c.forChild(D)],n.c]}),e})();var y=t("FVc1"),q=t("cZdB");t.d(i,"LineasisdocModule",(function(){return I}));let I=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(i){return new(i||e)},providers:[o.d],imports:[[o.b,z,l.k,y.a,C.d,q.a,m.b,g.a]]}),e})()}}]);