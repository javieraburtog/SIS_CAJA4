function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{zHkB:function(e,t,i){"use strict";i.r(t);var o,n=i("ofXK"),r=i("tyNb"),a=i("fXoL"),c=i("2MiI"),s=i("0oYm"),d=i("mrSG"),l=i("XNiG"),b=i("1kSV"),u=i("SX+u"),g=i("Kj3r"),m=i("JMRq"),p=i("VADE"),h=i("tk/3"),f=i("AytR"),E=((o=function(){function e(t,i,o){_classCallCheck(this,e),this.httpClient=t,this.route=i,this.storage=o}return _createClass(e,[{key:"consultarLineasNegocio",value:function(){var e=this;this.route.queryParams.subscribe((function(t){null==t.id?e.usernameParam=e.storage.get("username"):(console.log("Leer username param en url: ",t.id),e.usernameParam=t.id)}));var t={parameters:[this.usernameParam,f.a.NOMBRE_APPLICACION]};console.log(t);var i={headers:new h.d({"Content-Type":f.a.CONTENT_TYPE,"GCP-API-KEY":f.a.GCP_API_KEY,"APP-MOD-CODE":f.a.APP_MOD_CODE,"APP-CODE":f.a.APP_CODE,parametros:JSON.stringify(t)})};return this.httpClient.get(f.a.GCPCAJAWSREST_URL+f.a.CONTEXTO_WS_CONFIG_UNINEGREST+"/consultarLineasNegocio",i)}},{key:"consultarTodo",value:function(e,t){var i=this;this.route.queryParams.subscribe((function(e){null==e.id?i.usernameParam=i.storage.get("username"):(console.log("Leer username param en url: ",e.id),i.usernameParam=e.id)}));var o={parameters:[e,t,this.usernameParam,f.a.NOMBRE_APPLICACION]};console.log(o);var n={headers:new h.d({"Content-Type":f.a.CONTENT_TYPE,"GCP-API-KEY":f.a.GCP_API_KEY,"APP-MOD-CODE":f.a.APP_MOD_CODE,"APP-CODE":f.a.APP_CODE,parametros:JSON.stringify(o)})};return this.httpClient.get(f.a.GCPCAJAWSREST_URL+f.a.CONTEXTO_WS_CONFIG_LINEASISDOC+"/consultarTodo",n)}},{key:"actualizar",value:function(e,t,i,o,n,r,a,c){var s=JSON.stringify([{identificador:{parameters:[e.toString()]}},{codigolinea:{parameters:[t]}},{sistema:{parameters:[i]}},{tipodoc:{parameters:[o]}},{reqnodocumento:{parameters:[n]}},{reqhojaneg:{parameters:[r]}},{reqcodcliente:{parameters:[a]}},{estado:{parameters:[c]}},{usuarioCrea:{parameters:[this.storage.get("username")]}},{aplicacion:{parameters:[f.a.NOMBRE_APPLICACION]}}]),d={headers:new h.d({"Content-Type":f.a.CONTENT_TYPE,"GCP-API-KEY":f.a.GCP_API_KEY,"APP-MOD-CODE":f.a.APP_MOD_CODE,"APP-CODE":f.a.APP_CODE})};return this.httpClient.put(f.a.GCPCAJAWSREST_URL+f.a.CONTEXTO_WS_CONFIG_LINEASISDOC+"/actualizar",s,d)}},{key:"insertar",value:function(e,t,i,o,n,r,a){var c=JSON.stringify({parameters:[e]}),s=JSON.stringify({parameters:[t]}),d=JSON.stringify({parameters:[i]}),l=JSON.stringify({parameters:[o]}),b=JSON.stringify({parameters:[n]}),u=JSON.stringify({parameters:[r]}),g=JSON.stringify({parameters:[a]}),m=JSON.stringify({parameters:[this.storage.get("username")]}),p=JSON.stringify({parameters:[f.a.NOMBRE_APPLICACION]}),E={headers:new h.d({"Content-Type":f.a.CONTENT_TYPE,"GCP-API-KEY":f.a.GCP_API_KEY,"APP-MOD-CODE":f.a.APP_MOD_CODE,"APP-CODE":f.a.APP_CODE,codigolinea:c,sistema:s,tipodoc:d,reqnodocumento:l,reqhojaneg:b,reqcodcliente:u,estado:g,usuarioCrea:m,aplicacion:p})};return this.httpClient.post(f.a.GCPCAJAWSREST_URL+f.a.CONTEXTO_WS_CONFIG_LINEASISDOC+"/insertar",JSON.stringify("{}"),E)}},{key:"eliminar",value:function(e){var t=this;this.route.queryParams.subscribe((function(e){null==e.id?t.usernameParam=t.storage.get("username"):(console.log("Leer username param en url: ",e.id),t.usernameParam=e.id)}));var i={parameters:[e.toString(),this.usernameParam,f.a.NOMBRE_APPLICACION]};console.log(i);var o={headers:new h.d({"Content-Type":f.a.CONTENT_TYPE,"GCP-API-KEY":f.a.GCP_API_KEY,"APP-MOD-CODE":f.a.APP_MOD_CODE,"APP-CODE":f.a.APP_CODE,parametros:JSON.stringify(i)})};return this.httpClient.delete(f.a.GCPCAJAWSREST_URL+f.a.CONTEXTO_WS_CONFIG_LINEASISDOC+"/eliminar",o)}}]),e}()).\u0275fac=function(e){return new(e||o)(a.Zb(h.b),a.Zb(r.a),a.Zb(u.a))},o.\u0275prov=a.Ib({token:o,factory:o.\u0275fac,providedIn:"root"}),o),C=i("3Pt+");function v(e,t){if(1&e){var i=a.Sb();a.Rb(0,"tr",27),a.dc("click",(function(){a.tc(i);var e=t.$implicit,o=a.fc(),n=a.sc(58);return o.onRowClic(e.identificador,e.codigolinea,e.sistema,e.tipodoc,e.reqnodocumento,e.reqhojaneg,e.reqcodcliente,e.estado),o.open(n)})),a.Rb(1,"td"),a.Nb(2,"ngb-highlight",28),a.Qb(),a.Rb(3,"td"),a.Nb(4,"ngb-highlight",28),a.Qb(),a.Rb(5,"td"),a.Nb(6,"ngb-highlight",28),a.Qb(),a.Rb(7,"td"),a.Nb(8,"ngb-highlight",28),a.Qb(),a.Rb(9,"td"),a.Nb(10,"ngb-highlight",28),a.Qb(),a.Rb(11,"td"),a.Nb(12,"ngb-highlight",28),a.Qb(),a.Rb(13,"td"),a.Nb(14,"ngb-highlight",28),a.Qb(),a.Qb()}if(2&e){var o=t.$implicit,n=a.fc();a.zb(2),a.kc("result",o.codigolinea),a.zb(2),a.kc("result",o.sistema),a.zb(2),a.kc("result",o.tipodoc),a.zb(2),a.kc("result",n.formatearSiNo(o.reqnodocumento)),a.zb(2),a.kc("result",n.formatearSiNo(o.reqhojaneg)),a.zb(2),a.kc("result",n.formatearSiNo(o.reqcodcliente)),a.zb(2),a.kc("result",n.formatearSiNo(o.estado))}}function R(e,t){1&e&&a.Bc(0,"<<")}function O(e,t){1&e&&a.Bc(0,">>")}function P(e,t){1&e&&(a.Rb(0,"div",29),a.Rb(1,"span",30),a.Bc(2,"Cargando..."),a.Qb(),a.Qb())}function S(e,t){if(1&e&&(a.Rb(0,"option",64),a.Bc(1),a.Qb()),2&e){var i=t.$implicit;a.lc("value",i.drky),a.zb(1),a.Ec("",i.drky,"-",i.drdl01.trim(),"")}}function _(e,t){1&e&&(a.Rb(0,"div",29),a.Rb(1,"span",30),a.Bc(2,"Procesando..."),a.Qb(),a.Qb())}function N(e,t){if(1&e){var i=a.Sb();a.Rb(0,"ngb-alert",65),a.dc("close",(function(){return a.tc(i),a.fc(2).successMessage=""})),a.Bc(1),a.Qb()}if(2&e){var o=a.fc(2);a.zb(1),a.Cc(o.successMessage)}}function k(e,t){if(1&e){var i=a.Sb();a.Rb(0,"ngb-alert",66),a.dc("close",(function(){return a.tc(i),a.fc(2).errorMessage=""})),a.Bc(1),a.Qb()}if(2&e){var o=a.fc(2);a.zb(1),a.Cc(o.errorMessage)}}function Q(e,t){if(1&e){var i=a.Sb();a.Rb(0,"div",31),a.Rb(1,"h4",32),a.Bc(2,"Configuraci\xf3n L\xednea-Sistema-Tipo Documento"),a.Qb(),a.Rb(3,"button",33),a.dc("click",(function(){return t.$implicit.dismiss("close")})),a.Rb(4,"span",34),a.Bc(5,"\xd7"),a.Qb(),a.Qb(),a.Qb(),a.Rb(6,"div",35),a.Rb(7,"form",36),a.Rb(8,"div",37),a.Rb(9,"div",38),a.Rb(10,"div",39),a.Rb(11,"div",40),a.Rb(12,"label",41),a.Bc(13,"L\xednea de Negocio"),a.Qb(),a.Rb(14,"select",42),a.dc("ngModelChange",(function(e){return a.tc(i),a.fc().codigoLineaEnEdicion=e})),a.zc(15,S,2,3,"option",43),a.Qb(),a.Qb(),a.Qb(),a.Rb(16,"div",39),a.Rb(17,"div",40),a.Rb(18,"label",44),a.Bc(19,"Sistema"),a.Qb(),a.Rb(20,"div",45),a.Rb(21,"input",46),a.dc("ngModelChange",(function(e){return a.tc(i),a.fc().sistemaEnEdicion=e})),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(22,"div",39),a.Rb(23,"div",40),a.Rb(24,"label",47),a.Bc(25,"Tipo Documento"),a.Qb(),a.Rb(26,"div",45),a.Rb(27,"input",48),a.dc("ngModelChange",(function(e){return a.tc(i),a.fc().tipodocEnEdicion=e})),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(28,"div",39),a.Rb(29,"div",40),a.Rb(30,"label",49),a.Bc(31,"Req. # Documento"),a.Qb(),a.Rb(32,"select",50),a.dc("ngModelChange",(function(e){return a.tc(i),a.fc().reqNoDocumentoEnEdicion=e})),a.Rb(33,"option",51),a.Bc(34,"SI"),a.Qb(),a.Rb(35,"option",52),a.Bc(36,"NO"),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(37,"div",39),a.Rb(38,"div",40),a.Rb(39,"label",53),a.Bc(40,"Req. Hoja Neg."),a.Qb(),a.Rb(41,"select",54),a.dc("ngModelChange",(function(e){return a.tc(i),a.fc().reqHojaNegEnEdicion=e})),a.Rb(42,"option",51),a.Bc(43,"SI"),a.Qb(),a.Rb(44,"option",52),a.Bc(45,"NO"),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(46,"div",39),a.Rb(47,"div",40),a.Rb(48,"label",55),a.Bc(49,"Req. Cod. Cliente"),a.Qb(),a.Rb(50,"select",56),a.dc("ngModelChange",(function(e){return a.tc(i),a.fc().reqCodClienteEnEdicion=e})),a.Rb(51,"option",51),a.Bc(52,"SI"),a.Qb(),a.Rb(53,"option",52),a.Bc(54,"NO"),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(55,"div",39),a.Rb(56,"div",40),a.Rb(57,"label",57),a.Bc(58,"Estado"),a.Qb(),a.Rb(59,"select",58),a.dc("ngModelChange",(function(e){return a.tc(i),a.fc().estadoEnEdicion=e})),a.Rb(60,"option",51),a.Bc(61,"SI"),a.Qb(),a.Rb(62,"option",52),a.Bc(63,"NO"),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(64,"div",59),a.zc(65,_,3,0,"div",19),a.zc(66,N,2,1,"ngb-alert",60),a.zc(67,k,2,1,"ngb-alert",61),a.Rb(68,"button",62),a.dc("click",(function(){return t.$implicit.dismiss("close")})),a.Bc(69,"Cerrar"),a.Qb(),a.Rb(70,"button",63),a.dc("click",(function(){a.tc(i);var e=a.fc();return e.btnGuardarClicked=!0,e.siGuardando=!0,e.guardarInformacion()})),a.Bc(71,"Guardar"),a.Qb(),a.Qb()}if(2&e){var o=a.fc();a.zb(14),a.kc("ngModel",o.codigoLineaEnEdicion),a.zb(1),a.kc("ngForOf",o.listaLNegocio),a.zb(6),a.kc("ngModel",o.sistemaEnEdicion),a.zb(6),a.kc("ngModel",o.tipodocEnEdicion),a.zb(5),a.kc("ngModel",o.reqNoDocumentoEnEdicion),a.zb(9),a.kc("ngModel",o.reqHojaNegEnEdicion),a.zb(9),a.kc("ngModel",o.reqCodClienteEnEdicion),a.zb(9),a.kc("ngModel",o.estadoEnEdicion),a.zb(6),a.kc("ngIf",o.siGuardando),a.zb(1),a.kc("ngIf",o.successMessage),a.zb(1),a.kc("ngIf",o.errorMessage),a.zb(3),a.kc("disabled",o.btnGuardarClicked)}}function M(e,t){if(1&e){var i=a.Sb();a.Rb(0,"div",31),a.Rb(1,"h4",67),a.Bc(2,"Borrar registro"),a.Qb(),a.Rb(3,"button",68),a.dc("click",(function(){return t.$implicit.dismiss("Cross click")})),a.Rb(4,"span",34),a.Bc(5,"\xd7"),a.Qb(),a.Qb(),a.Qb(),a.Rb(6,"div",35),a.Rb(7,"p"),a.Rb(8,"strong"),a.Bc(9,"Est\xe1 seguro de eliminar el registro?"),a.Qb(),a.Qb(),a.Rb(10,"p"),a.Rb(11,"span",69),a.Bc(12,"Esta operacion no se puede deshacer."),a.Qb(),a.Qb(),a.Qb(),a.Rb(13,"div",59),a.Rb(14,"button",70),a.dc("click",(function(){return t.$implicit.dismiss("cancel click")})),a.Bc(15,"Cancelar"),a.Qb(),a.Rb(16,"button",71),a.dc("click",(function(){return a.tc(i),a.fc().eliminarRegistro()})),a.Bc(17,"Borrar"),a.Qb(),a.Qb()}}var x,y,A,D=((x=function(){function e(t,i,o,n,r,a,c){var s=this;_classCallCheck(this,e),this.orderPipe=t,this.pipe=i,this.configLineaSisDocService=o,this.modalService=n,this.location=r,this.route=a,this.storage=c,this._success=new l.a,this.successMessage="",this._error=new l.a,this.errorMessage="",this.modoEdicion=0,this.userid="",this.vista="lineasisdoc",this.closeResult="",this.page=1,this.pageSize=4,this.btnGuardarClicked=!1,this.siGuardando=!1,this.siCargandoDatos=!1,this.limiteInicial=1,this.offset=10,this.filtroTabla={$or:[{codigolinea:""},{sistema:""},{tipodoc:""}]},this.codigoAscendente=!1,this.descripcionAscendente=!0,this.columnaActual="",this.tipoOrdenPorDefecto=!1,this.onPageChange=function(e,t){console.log("Pagina actual",e," | Elementos por pagina: ",t," | Ultima pagina: ",Math.ceil(s.regs.length/t))}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.userid=this.storage.get("username"),console.log("Lineasisdoc onInit"),this.route.queryParams.subscribe((function(t){console.log("Lineasisdoc onInit: usuario, vista: ",e.userid,",",t.v),e.location.replaceState("/index.html?id="+e.userid+"&v=lineasisdoc")})),this.siCargandoDatos=!0,this.configLineaSisDocService.consultarLineasNegocio().subscribe((function(t){e.listaLNegocio=t})),this.configLineaSisDocService.consultarTodo(this.limiteInicial,this.offset).subscribe((function(t){e.collectionSize=t.length,e.regs=t,e.registrosOrdenadosFiltrados=e.regs,console.log("CollectionSize: ",e.collectionSize),console.log("Data consultarPorId: ",t),e.siCargandoDatos=!1})),this._success.subscribe((function(t){return e.successMessage=t})),this._success.pipe(Object(g.a)(5e3)).subscribe((function(){return e.successMessage=""})),this._error.subscribe((function(t){return e.errorMessage=t})),this._error.pipe(Object(g.a)(5e3)).subscribe((function(){return e.errorMessage=""}))}},{key:"getDismissReason",value:function(e){return e===b.a.ESC?"by pressing ESC":e===b.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(e)}},{key:"onRowClic",value:function(e,t,i,o,n,r,a,c){this.modoEdicion=2,this.identificadorEnEdicion=e,this.codigoLineaEnEdicion=t,this.sistemaEnEdicion=i,this.tipodocEnEdicion=o,this.reqNoDocumentoEnEdicion=n,this.reqHojaNegEnEdicion=r,this.reqCodClienteEnEdicion=a,this.estadoEnEdicion=c}},{key:"onBtnNuevoClic",value:function(){this.modoEdicion=1,this.identificadorEnEdicion=0,this.codigoLineaEnEdicion="",this.sistemaEnEdicion="",this.tipodocEnEdicion="",this.reqNoDocumentoEnEdicion=1,this.reqHojaNegEnEdicion=1,this.reqCodClienteEnEdicion=1,this.estadoEnEdicion=1}},{key:"open",value:function(e){var t=this;this.location.replaceState("/index.html?id="+this.userid+"&v="+this.vista),this.modalReference=this.modalService.open(e,{size:"xl",ariaLabelledBy:"modal-basic-title"}),this.modalReference.result.then((function(e){console.log("resultado: ",e),t.closeResult="Cerrado con: ".concat(e),"save"==e?console.log("Validar campos: "):console.log("Se cerro ventana. Limpiar campos en edicion")}),(function(e){console.log("Se cerro ventana. Limpiar campos en edidcion"),t.closeResult="Raz\xf3n ".concat(t.getDismissReason(e))}))}},{key:"confirmaBorrar",value:function(e){var t=this;this.location.replaceState("/index.html?id="+this.userid+"&v="+this.vista),this.modalReference=this.modalService.open(e,{size:"sm",ariaLabelledBy:"modal-basic-title"}),this.modalReference.result.then((function(e){console.log("resultado: ",e),t.closeResult="Cerrado con: ".concat(e),"save"==e?console.log("Validar campos: "):console.log("Se cerro ventana. Limpiar campos en edicion")}),(function(e){console.log("Se cerro ventana. Limpiar campos en edidcion"),t.closeResult="Raz\xf3n ".concat(t.getDismissReason(e))}))}},{key:"validarCamposAntesDeGuardar",value:function(){if(!(null!=this.codigoLineaEnEdicion&&this.codigoLineaEnEdicion.length>1&&this.codigoLineaEnEdicion.indexOf(" ")<0))return this._error.next("El campo L\xednea de Negocio no puede ser vac\xedo ni puede contener espacios en blanco."),!1;if(this.codigoLineaEnEdicion.length>255)return this._error.next("Campo L\xednea de Negocios: 255 caracteres m\xe1ximo"),!1;var e=/^[a-zA-Z0-9_.-]*$/;return e.test(this.codigoLineaEnEdicion.toString())?null!=this.sistemaEnEdicion&&this.sistemaEnEdicion.length>1&&this.sistemaEnEdicion.indexOf(" ")<0?this.sistemaEnEdicion.length>255?(this._error.next("Campo Sistema no puede ser mayor a 255 caracteres"),!1):e.test(this.sistemaEnEdicion.toString())?null!=this.tipodocEnEdicion&&this.tipodocEnEdicion.length>1&&this.tipodocEnEdicion.indexOf(" ")<0?this.tipodocEnEdicion.length>100?(this._error.next("Campo T. Maestra no puede ser mayor a 50 caracteres"),!1):e.test(this.tipodocEnEdicion.toString())?(console.log(this.reqNoDocumentoEnEdicion),null==this.reqNoDocumentoEnEdicion||0!=this.reqNoDocumentoEnEdicion&&1!=this.reqNoDocumentoEnEdicion?(this._error.next("El campo Req. # Documento debe tener valor SI (0) o NO (1)"),!1):null==this.reqHojaNegEnEdicion||0!=this.reqHojaNegEnEdicion&&1!=this.reqHojaNegEnEdicion?(this._error.next("El campo Req. Hoja Neg. debe tener valor SI (0) o NO (1)"),!1):null==this.reqCodClienteEnEdicion||0!=this.reqCodClienteEnEdicion&&1!=this.reqCodClienteEnEdicion?(this._error.next("El campo Req. Cod. Cliente debe tener valor SI (0) o NO (1)"),!1):null==this.estadoEnEdicion||0!=this.estadoEnEdicion&&1!=this.estadoEnEdicion?(this._error.next("El campo Estado debe tener valor SI (0) o NO (1)"),!1):(console.log("Proceder a guardar datos"),!0)):(this._error.next("Campo Tipo Documento solamente debe tener caracteres alfanum\xe9ricos"),!1):(this._error.next("El Tipo Documento no puede ser vac\xedo ni puede contener espacios en blanco."),!1):(this._error.next("Campo Sistema solamente debe tener caracteres alfanum\xe9ricos"),!1):(this._error.next("El Sistema no puede ser vac\xedo ni puede contener espacios en blanco."),!1):(this._error.next("Campo L\xednea de Negocios solamente debe tener caracteres alfanum\xe9ricos"),!1)}},{key:"guardarInformacion",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i,o,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.validarCamposAntesDeGuardar())){e.next=12;break}if(2!=this.modoEdicion){e.next=7;break}return e.next=5,new Promise((function(e,t){n.configLineaSisDocService.actualizar(n.identificadorEnEdicion,n.codigoLineaEnEdicion,n.sistemaEnEdicion,n.tipodocEnEdicion,n.reqNoDocumentoEnEdicion,n.reqHojaNegEnEdicion,n.reqCodClienteEnEdicion,n.estadoEnEdicion).subscribe((function(t){t.length>0&&("true"==t[0]?(n._success.next("Informacion guardada exitosamente"),n.cerrarModal(),n.modoEdicion=1,n.identificadorEnEdicion=0,n.codigoLineaEnEdicion="",n.sistemaEnEdicion="",n.tipodocEnEdicion="",n.reqNoDocumentoEnEdicion=1,n.reqHojaNegEnEdicion=1,n.reqCodClienteEnEdicion=1,n.estadoEnEdicion=1,e(!0)):(n._error.next("Error al intentar guardar informacion"),e(!1))),n.siCargandoDatos=!0,n.configLineaSisDocService.consultarTodo(n.limiteInicial,n.offset).subscribe((function(e){n.regs=e,n.siCargandoDatos=!1,n.registrosOrdenadosFiltrados=n.regs,n.collectionSize=n.registrosOrdenadosFiltrados.length}))}))}));case 5:return i=e.sent,e.abrupt("return",(this.btnGuardarClicked=!1,this.siGuardando=!1,i));case 7:if(1!=this.modoEdicion){e.next=12;break}return e.next=10,new Promise((function(e,t){n.configLineaSisDocService.insertar(n.codigoLineaEnEdicion,n.sistemaEnEdicion,n.tipodocEnEdicion,n.reqNoDocumentoEnEdicion,n.reqHojaNegEnEdicion,n.reqCodClienteEnEdicion,n.estadoEnEdicion).subscribe((function(t){t.length>0&&("true"==t[0]?(n._success.next("Informacion guardada exitosamente"),n.cerrarModal(),n.modoEdicion=1,n.identificadorEnEdicion=0,n.codigoLineaEnEdicion="",n.sistemaEnEdicion="",n.tipodocEnEdicion="",n.reqNoDocumentoEnEdicion=1,n.reqHojaNegEnEdicion=1,n.reqCodClienteEnEdicion=1,n.estadoEnEdicion=1,e(!0)):(n._error.next("Error al intentar guardar informacion"),e(!1))),n.siCargandoDatos=!0,n.configLineaSisDocService.consultarTodo(n.limiteInicial,n.offset).subscribe((function(e){n.regs=e,n.siCargandoDatos=!1,n.registrosOrdenadosFiltrados=n.regs,n.collectionSize=n.registrosOrdenadosFiltrados.length}))}))}));case 10:return o=e.sent,e.abrupt("return",(this.btnGuardarClicked=!1,this.siGuardando=!1,o));case 12:return e.abrupt("return",(this.btnGuardarClicked=!1,this.siGuardando=!1,t));case 13:case"end":return e.stop()}}),e,this)})))}},{key:"cerrarModal",value:function(){this.modalReference.close()}},{key:"onKeySearch",value:function(){this.filtroTabla.$or[0].codigolinea=this.searchText,this.filtroTabla.$or[1].sistema=this.searchText,this.filtroTabla.$or[2].tipodoc=this.searchText;var e=this.pipe.transform(this.regs,this.filtroTabla);this.registrosOrdenadosFiltrados=e,this.paginarRegistros()}},{key:"paginarRegistros",value:function(){void 0!==this.registrosOrdenadosFiltrados&&(this.registrosOrdenadosFiltrados=""===this.searchText?this.regs:this.registrosOrdenadosFiltrados.map((function(e,t){return Object.assign({identificador:t+1},e)})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=this.registrosOrdenadosFiltrados.length)}},{key:"onSort",value:function(e){this.columnaActual==e?(this.tipoOrdenActual=!this.tipoOrdenActual,console.log("ordenar por: ",e),this.registrosOrdenadosFiltrados=this.orderPipe.transform(this.registrosOrdenadosFiltrados,e,this.tipoOrdenActual),this.columnaActual=e):(console.log("ordenar por: ",e),this.registrosOrdenadosFiltrados=this.orderPipe.transform(this.registrosOrdenadosFiltrados,e,this.tipoOrdenPorDefecto),this.columnaActual=e,this.tipoOrdenActual=this.tipoOrdenPorDefecto)}},{key:"onClicBtnEliminar",value:function(e){return null!=e&&(this.id_a_eliminar=e,!0)}},{key:"eliminarRegistro",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){t.configLineaSisDocService.eliminar(t.id_a_eliminar).subscribe((function(i){i.length>0&&("true"==i[0]?(t._success.next("Registro borrado"),t.siCargandoDatos=!0,t.configLineaSisDocService.consultarTodo(t.limiteInicial,t.offset).subscribe((function(e){t.regs=e,t.siCargandoDatos=!1,t.registrosOrdenadosFiltrados=t.regs,null!=t.searchText&&null!=t.searchText&&""!=t.searchText&&(console.log("searchText: ",t.searchText),t.onKeySearch())})),e(!0)):(t._error.next("Error al intentar borrar"),e(!1)))}))}));case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}this.cerrarModal();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"formatearSiNo",value:function(e){return 0==e?"NO":"SI"}},{key:"obtenerRegistros",get:function(){if(void 0!==this.registrosOrdenadosFiltrados)return console.log("obtenerRegistros"),this.registrosOrdenadosFiltrados.map((function(e,t){return Object.assign({id:t+1},e)})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}}]),e}()).\u0275fac=function(e){return new(e||x)(a.Mb(m.b),a.Mb(p.a),a.Mb(E),a.Mb(b.j),a.Mb(n.h),a.Mb(r.a),a.Mb(u.a))},x.\u0275cmp=a.Gb({type:x,selectors:[["app-cont-config-lineasisdoc"]],decls:61,vars:17,consts:[[1,"divContenedor"],[1,"table-responsive",2,"max-width","99%"],[1,"container",2,"padding-bottom","1%"],[1,"row","align-items-start"],[1,"col-5","align-self-center"],[1,"col"],[1,"col-5","align-self-start",2,"padding-right","0.75%"],["type","text","name","search","placeholder","Buscar","autocomplete","off",1,"form-control","ml-2","form-control-sm","bi","bi-search",3,"ngModel","keyup","ngModelChange"],[1,"table","table-striped","table-hover","table-bordered","table-sm"],[1,"table-active"],["scope","col",3,"click"],[3,"hidden"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2",2,"padding-right","0.25% !important"],[1,"pagination",3,"collectionSize","page","pageSize","pageChange"],["numPages",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["class","spinner-border text-primary","role","status",4,"ngIf"],["id","itemsPerPage","name","itemsPerPage",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"d-flex"],[1,"ml-auto","p-2",2,"padding-right","0.25% !important"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["content",""],["FormConfirmarEliminar",""],[3,"click"],[3,"result"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","modalEditForm","name","modalEditForm"],[1,"container-fluid"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"form-group"],["for","codigolinea"],["id","codigolinea","name","codigolinea",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","sistema"],[1,"input-group"],["id","sistema","minlength","1","maxlength","50","placeholder","Digite sistema","name","sistema","pattern","[A-Za-z0-9]",1,"form-control",3,"ngModel","ngModelChange"],["for","tipodoc"],["id","tipodoc","name","tipodoc","minlength","1","maxlength","50","placeholder","Digite tipo documento",1,"form-control",3,"ngModel","ngModelChange"],["for","reqnodocumento"],["id","reqnodocumento","name","reqnodocumento",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["for","reqhojaneg"],["id","reqhojaneg","name","reqhojaneg",1,"form-control",3,"ngModel","ngModelChange"],["for","reqcodcliente"],["id","reqcodcliente","name","reqcodcliente",1,"form-control",3,"ngModel","ngModelChange"],["for","estado"],["id","estado","name","estado",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","success",3,"close",4,"ngIf"],["type","danger",3,"close",4,"ngIf"],["type","button",1,"btn","btn-outline-dark","btn-sm",3,"click"],["type","button",1,"btn","btn-success","btn-sm",3,"disabled","click"],[3,"value"],["type","success",3,"close"],["type","danger",3,"close"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,t){if(1&e){var i=a.Sb();a.Rb(0,"div",0),a.Nb(1,"br"),a.Rb(2,"form"),a.Rb(3,"div",1),a.Rb(4,"div",2),a.Rb(5,"div",3),a.Rb(6,"div",4),a.Rb(7,"h5"),a.Bc(8,"Configuraci\xf3n de L\xednea-Sistema-Tipo Documento"),a.Qb(),a.Qb(),a.Nb(9,"div",5),a.Rb(10,"div",6),a.Rb(11,"input",7),a.dc("keyup",(function(){return t.onKeySearch()}))("ngModelChange",(function(e){return t.searchText=e})),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(12,"table",8),a.Rb(13,"thead"),a.Rb(14,"tr",9),a.Rb(15,"th",10),a.dc("click",(function(){return t.onSort("codigolinea")})),a.Bc(16,"C\xf3digo L\xednea"),a.Rb(17,"span",11),a.Bc(18,"\u25bc"),a.Qb(),a.Rb(19,"span",11),a.Bc(20,"\u25b2"),a.Qb(),a.Qb(),a.Rb(21,"th",10),a.dc("click",(function(){return t.onSort("sistema")})),a.Bc(22,"Sistema"),a.Rb(23,"span",11),a.Bc(24,"\u25bc"),a.Qb(),a.Rb(25,"span",11),a.Bc(26,"\u25b2"),a.Qb(),a.Qb(),a.Rb(27,"th",12),a.Bc(28,"Tipo Doc."),a.Qb(),a.Rb(29,"th",12),a.Bc(30,"Req. # Documento"),a.Qb(),a.Rb(31,"th",12),a.Bc(32,"Req. Hoja Neg."),a.Qb(),a.Rb(33,"th",12),a.Bc(34,"Req. Cod. Cliente"),a.Qb(),a.Rb(35,"th",12),a.Bc(36,"Estado"),a.Qb(),a.Qb(),a.Qb(),a.Rb(37,"tbody"),a.zc(38,v,15,7,"tr",13),a.gc(39,"filterBy"),a.Qb(),a.Qb(),a.Rb(40,"div",14),a.Rb(41,"ngb-pagination",15,16),a.dc("pageChange",(function(e){return t.page=e}))("pageChange",(function(e){return t.onPageChange(e,t.pageSize)})),a.zc(43,R,1,0,"ng-template",17),a.zc(44,O,1,0,"ng-template",18),a.Qb(),a.zc(45,P,3,0,"div",19),a.Rb(46,"select",20),a.dc("ngModelChange",(function(e){return t.pageSize=e})),a.Rb(47,"option",21),a.Bc(48,"2 items por p\xe1gina"),a.Qb(),a.Rb(49,"option",21),a.Bc(50,"4 items por p\xe1gina"),a.Qb(),a.Rb(51,"option",21),a.Bc(52,"6 items por p\xe1gina"),a.Qb(),a.Qb(),a.Qb(),a.Rb(53,"div",22),a.Rb(54,"div",23),a.Rb(55,"button",24),a.dc("click",(function(){a.tc(i);var e=a.sc(58);return t.onBtnNuevoClic(),t.open(e)})),a.Bc(56,"Nuevo registro"),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.zc(57,Q,72,12,"ng-template",null,25,a.Ac),a.zc(59,M,18,0,"ng-template",null,26,a.Ac),a.Qb()}2&e&&(a.zb(11),a.kc("ngModel",t.searchText),a.zb(6),a.kc("hidden",""==t.columnaActual||"codigolinea"!=t.columnaActual||"codigolinea"==t.columnaActual&&1==t.tipoOrdenActual),a.zb(2),a.kc("hidden",""==t.columnaActual||"codigolinea"!=t.columnaActual||"codigolinea"==t.columnaActual&&0==t.tipoOrdenActual),a.zb(4),a.kc("hidden",""==t.columnaActual||"sistema"!=t.columnaActual||"sistema"==t.columnaActual&&1==t.tipoOrdenActual),a.zb(2),a.kc("hidden",""==t.columnaActual||"sistema"!=t.columnaActual||"sistema"==t.columnaActual&&0==t.tipoOrdenActual),a.zb(13),a.kc("ngForOf",a.hc(39,14,t.obtenerRegistros,t.filtroTabla)),a.zb(3),a.kc("collectionSize",t.collectionSize)("page",t.page)("pageSize",t.pageSize),a.zb(4),a.kc("ngIf",t.siCargandoDatos),a.zb(1),a.kc("ngModel",t.pageSize),a.zb(1),a.kc("ngValue",2),a.zb(2),a.kc("ngValue",4),a.zb(2),a.kc("ngValue",6))},directives:[C.s,C.j,C.k,C.a,C.i,C.l,n.j,b.l,b.n,b.m,n.k,C.q,C.m,C.r,b.h,C.f,C.e,C.o,b.b],pipes:[p.a],styles:["@media (min-width:1281px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width:1025px) and (max-width:1280px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width:768px) and (max-width:1024px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width:768px) and (max-width:1024px) and (orientation:landscape){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width:481px) and (max-width:767px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width:320px) and (max-width:480px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.custom-select[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%]{font-size:.688rem!important}}"]}),x),z=i("LmEr"),q=[{path:"",component:(y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),y.\u0275fac=function(e){return new(e||y)},y.\u0275cmp=a.Gb({type:y,selectors:[["app-lineasisdoc"]],decls:5,vars:0,consts:[[1,"container"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.Nb(1,"app-header"),a.Nb(2,"app-menu"),a.Nb(3,"app-cont-config-lineasisdoc"),a.Nb(4,"app-footer"),a.Qb())},directives:[c.a,s.a,D,z.a],styles:[""]}),y)}],I=((A=function e(){_classCallCheck(this,e)}).\u0275mod=a.Kb({type:A}),A.\u0275inj=a.Jb({factory:function(e){return new(e||A)},imports:[[r.c.forChild(q)],r.c]}),A),T=i("FVc1"),B=i("cZdB");i.d(t,"LineasisdocModule",(function(){return w}));var L,w=((L=function e(){_classCallCheck(this,e)}).\u0275mod=a.Kb({type:L}),L.\u0275inj=a.Jb({factory:function(e){return new(e||L)},providers:[n.d],imports:[[n.b,I,b.k,T.a,C.d,B.a,p.b,m.a]]}),L)}}]);