"use strict";(self.webpackChunkGCPCAJAANG=self.webpackChunkGCPCAJAANG||[]).push([[951],{3951:(ee,M,m)=>{m.r(M),m.d(M,{CatalogowsrestModule:()=>J});var j=m(177),R=m(921),e=m(4438),G=m(385),I=m(5473),D=m(8505),F=m(467),k=m(5254),f=m(2886),T=m(7670),O=m(3020),P=m(5874),x=m(5122),y=m(6984),g=m(4421),S=m(2890),A=m(1626);let B=(()=>{class a{constructor(t,n,o){this.httpClient=t,this.route=n,this.storage=o}validar(t,n,o,i,p,d,h,b,_,E,v){let r=new Array,s="",l=!1;return null!=t&&t.length>1&&t.indexOf(" ")<0?t.length>50?(s="Campo C\xf3digo: 20 caracteres m\xe1ximo",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(0,S.f)(t.toString())?null!=n&&n.trim().length>1?n.length>300?(s="Campo Descripci\xf3n no puede ser mayor a 100 caracteres",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):null!=o&&o.length>1&&o.indexOf(" ")<0?o.length>100?(s="Campo C\xf3digo: 100 caracteres m\xe1ximo",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):null!=p&&p.length>1&&p.indexOf(" ")<0?p.length>100?(s="Campo Servidor: 100 caracteres m\xe1ximo",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):null!=i&&i.toString().length>1&&i.toString().indexOf(" ")<0?i.toString().length>100?(s="Campo Puerto: 100 caracteres m\xe1ximo",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(0,S.T)(i.toString())?null!=d&&d.length>1&&d.indexOf(" ")<0?d.length>100?(s="Campo Content Root: 100 caracteres m\xe1ximo",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):null!=h&&h.length>1&&h.indexOf(" ")<0?h.length>100?(s="Campo App Path: 100 caracteres m\xe1ximo",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):null!=b&&b.length>1&&b.indexOf(" ")<0?b.length>100?(s="Campo Class Path: 100 caracteres m\xe1ximo",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):null==v||0!=v&&1!=v?(s="Campo Estado debe tener valor SI (0) o NO (1)",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):null!=_&&_.length>1&&_.indexOf(" ")<0?_.length>100?(s="Campo M\xe9todo: 100 caracteres m\xe1ximo",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):null!=E&&E.length>1&&E.indexOf(" ")<0?E.length>100?(s="Campo M\xe9todo http: 100 caracteres m\xe1ximo",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo M\xe9todo http no puede ser vac\xedo ni puede contener espacios en blanco.",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo M\xe9todo no puede ser vac\xedo ni puede contener espacios en blanco.",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo Class Path no puede ser vac\xedo ni puede contener espacios en blanco.",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo App Path no puede ser vac\xedo ni puede contener espacios en blanco.",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo Content Root no puede ser vac\xedo ni puede contener espacios en blanco.",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo Puerto solamente debe tener caracteres num\xe9ricos",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo Puerto no puede ser vac\xedo ni puede contener espacios en blanco.",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo Servidor no puede ser vac\xedo ni puede contener espacios en blanco.",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo Protocolo no puede ser vac\xedo ni puede contener espacios en blanco.",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo Descripci\xf3n no puede ser vac\xedo.",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo C\xf3digo solamente debe tener caracteres alfanum\xe9ricos",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r)):(s="Campo C\xf3digo no puede ser vac\xedo ni puede contener espacios en blanco.",l=!0,r.push({error:l,mensaje:s}),(0,g.of)(r))}static#e=this.\u0275fac=function(n){return new(n||a)(e.KVO(A.Qq),e.KVO(R.nX),e.KVO(T.vb))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var u=m(8326);function V(a,C){if(1&a){const t=e.RV6();e.j41(0,"tr",26),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),p=e.sdS(70);return i.onRowClic(o.identificador,o.codigo,o.descripcion,o.protocolo,o.puerto,o.servidor,o.contentroot,o.apppath,o.classpath,o.metodo,o.metodohttp,o.estado),e.Njj(i.open(p))}),e.j41(1,"td"),e.nrm(2,"ngb-highlight",27),e.k0s(),e.j41(3,"td"),e.nrm(4,"ngb-highlight",27),e.k0s(),e.j41(5,"td"),e.nrm(6,"ngb-highlight",27),e.k0s(),e.j41(7,"td"),e.nrm(8,"ngb-highlight",27),e.k0s(),e.j41(9,"td"),e.nrm(10,"ngb-highlight",27),e.k0s(),e.j41(11,"td"),e.nrm(12,"ngb-highlight",27),e.k0s(),e.j41(13,"td"),e.nrm(14,"ngb-highlight",27),e.k0s(),e.j41(15,"td"),e.nrm(16,"ngb-highlight",27),e.k0s(),e.j41(17,"td"),e.nrm(18,"ngb-highlight",27),e.k0s(),e.j41(19,"td"),e.nrm(20,"ngb-highlight",27),e.k0s(),e.j41(21,"td"),e.nrm(22,"ngb-highlight",27),e.k0s()()}if(2&a){const t=C.$implicit,n=e.XpG();e.R7$(2),e.Y8G("result",t.codigo)("term",n.searchText),e.R7$(2),e.Y8G("result",t.descripcion)("term",n.searchText),e.R7$(2),e.Y8G("result",t.servidor)("term",n.searchText),e.R7$(2),e.Y8G("result",t.protocolo)("term",n.searchText),e.R7$(2),e.Y8G("result",t.puerto)("term",n.searchText),e.R7$(2),e.Y8G("result",t.contentroot)("term",n.searchText),e.R7$(2),e.Y8G("result",t.apppath)("term",n.searchText),e.R7$(2),e.Y8G("result",t.classpath)("term",n.searchText),e.R7$(2),e.Y8G("result",t.estado)("term",n.searchText),e.R7$(2),e.Y8G("result",t.metodo)("term",n.searchText),e.R7$(2),e.Y8G("result",t.metodohttp)("term",n.searchText)}}function W(a,C){1&a&&e.EFF(0,"<<")}function N(a,C){1&a&&e.EFF(0,">>")}function $(a,C){1&a&&(e.j41(0,"div",28)(1,"span",29),e.EFF(2,"Cargando..."),e.k0s()())}function z(a,C){1&a&&(e.j41(0,"div",28)(1,"span",29),e.EFF(2,"Procesando..."),e.k0s()())}function X(a,C){if(1&a){const t=e.RV6();e.j41(0,"ngb-alert",70),e.bIt("close",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.successMessage="")}),e.EFF(1),e.k0s()}if(2&a){const t=e.XpG(2);e.R7$(),e.SpI("",t.successMessage," ")}}function Y(a,C){if(1&a){const t=e.RV6();e.j41(0,"ngb-alert",71),e.bIt("close",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.errorMessage="")}),e.EFF(1),e.k0s()}if(2&a){const t=e.XpG(2);e.R7$(),e.JRh(t.errorMessage)}}function w(a,C){if(1&a){const t=e.RV6();e.j41(0,"div",30)(1,"h4",31),e.EFF(2," Configuraci\xf3n de Cat\xe1logo de WS RESTful "),e.k0s(),e.j41(3,"button",32),e.bIt("click",function(){const o=e.eBV(t).$implicit;return e.Njj(o.dismiss("close"))}),e.j41(4,"span",33),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",34)(7,"form",35)(8,"div",36)(9,"div",37)(10,"div",38)(11,"div",39)(12,"label",40),e.EFF(13,"C\xf3digo"),e.k0s(),e.j41(14,"div",41)(15,"input",42),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.codigoEnEdicion,o)||(i.codigoEnEdicion=o),e.Njj(o)}),e.k0s()()()(),e.j41(16,"div",38)(17,"div",39)(18,"label",43),e.EFF(19,"Descripci\xf3n"),e.k0s(),e.j41(20,"div",41)(21,"input",44),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.descripcionEnEdicion,o)||(i.descripcionEnEdicion=o),e.Njj(o)}),e.k0s()()()(),e.j41(22,"div",38)(23,"div",39)(24,"label",45),e.EFF(25,"Protocolo"),e.k0s(),e.j41(26,"div",41)(27,"input",46),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.protocoloEnEdicion,o)||(i.protocoloEnEdicion=o),e.Njj(o)}),e.k0s()()()(),e.j41(28,"div",38)(29,"div",39)(30,"label",47),e.EFF(31,"Servidor"),e.k0s(),e.j41(32,"div",41)(33,"input",48),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.servidorEnEdicion,o)||(i.servidorEnEdicion=o),e.Njj(o)}),e.k0s()()()(),e.j41(34,"div",38)(35,"div",39)(36,"label",49),e.EFF(37,"Puerto"),e.k0s(),e.j41(38,"div",41)(39,"input",50),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.puertoEnEdicion,o)||(i.puertoEnEdicion=o),e.Njj(o)}),e.k0s()()()(),e.j41(40,"div",38)(41,"div",39)(42,"label",51),e.EFF(43,"Content Root"),e.k0s(),e.j41(44,"div",41)(45,"input",52),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.contentrootEnEdicion,o)||(i.contentrootEnEdicion=o),e.Njj(o)}),e.k0s()()()(),e.j41(46,"div",38)(47,"div",39)(48,"label",53),e.EFF(49,"App Path"),e.k0s(),e.j41(50,"div",41)(51,"input",54),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.apppathEnEdicion,o)||(i.apppathEnEdicion=o),e.Njj(o)}),e.k0s()()()(),e.j41(52,"div",38)(53,"div",39)(54,"label",55),e.EFF(55,"Class Path"),e.k0s(),e.j41(56,"div",41)(57,"input",56),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.classpathEnEdicion,o)||(i.classpathEnEdicion=o),e.Njj(o)}),e.k0s()()()(),e.j41(58,"div",38)(59,"div",39)(60,"label",57),e.EFF(61,"Estado"),e.k0s(),e.j41(62,"select",58),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.estadoEnEdicion,o)||(i.estadoEnEdicion=o),e.Njj(o)}),e.j41(63,"option",59),e.EFF(64,"SI"),e.k0s(),e.j41(65,"option",60),e.EFF(66,"NO"),e.k0s()()()(),e.j41(67,"div",38)(68,"div",39)(69,"label",61),e.EFF(70,"M\xe9todo"),e.k0s(),e.j41(71,"div",41)(72,"input",62),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.metodoEnEdicion,o)||(i.metodoEnEdicion=o),e.Njj(o)}),e.k0s()()()(),e.j41(73,"div",38)(74,"div",39)(75,"label",63),e.EFF(76,"M\xe9todo HTTP"),e.k0s(),e.j41(77,"div",41)(78,"input",64),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.metodohttpEnEdicion,o)||(i.metodohttpEnEdicion=o),e.Njj(o)}),e.k0s()()()()()()()(),e.j41(79,"div",65),e.DNE(80,z,3,0,"div",20)(81,X,2,1,"ngb-alert",66)(82,Y,2,1,"ngb-alert",67),e.j41(83,"button",68),e.bIt("click",function(){const o=e.eBV(t).$implicit;return e.Njj(o.dismiss("close"))}),e.EFF(84," Cerrar "),e.k0s(),e.j41(85,"button",69),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return o.btnGuardarClicked=!0,o.siGuardando=!0,e.Njj(o.guardarInformacion())}),e.EFF(86," Guardar "),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(15),e.R50("ngModel",t.codigoEnEdicion),e.R7$(6),e.R50("ngModel",t.descripcionEnEdicion),e.R7$(6),e.R50("ngModel",t.protocoloEnEdicion),e.R7$(6),e.R50("ngModel",t.servidorEnEdicion),e.R7$(6),e.R50("ngModel",t.puertoEnEdicion),e.R7$(6),e.R50("ngModel",t.contentrootEnEdicion),e.R7$(6),e.R50("ngModel",t.apppathEnEdicion),e.R7$(6),e.R50("ngModel",t.classpathEnEdicion),e.R7$(5),e.R50("ngModel",t.estadoEnEdicion),e.R7$(10),e.R50("ngModel",t.metodoEnEdicion),e.R7$(6),e.R50("ngModel",t.metodohttpEnEdicion),e.R7$(2),e.Y8G("ngIf",t.siGuardando),e.R7$(),e.Y8G("ngIf",t.successMessage),e.R7$(),e.Y8G("ngIf",t.errorMessage),e.R7$(3),e.Y8G("disabled",t.btnGuardarClicked)}}function H(a,C){if(1&a){const t=e.RV6();e.j41(0,"div",30)(1,"h4",72),e.EFF(2,"Borrar registro"),e.k0s(),e.j41(3,"button",73),e.bIt("click",function(){const o=e.eBV(t).$implicit;return e.Njj(o.dismiss("Cross click"))}),e.j41(4,"span",33),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",34)(7,"p")(8,"strong"),e.EFF(9,"Est\xe1 seguro de eliminar el registro?"),e.k0s()(),e.j41(10,"p")(11,"span",74),e.EFF(12,"Esta operacion no se puede deshacer."),e.k0s()()(),e.j41(13,"div",65)(14,"button",75),e.bIt("click",function(){const o=e.eBV(t).$implicit;return e.Njj(o.dismiss("cancel click"))}),e.EFF(15," Cancelar "),e.k0s(),e.j41(16,"button",76),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.eliminarRegistro())}),e.EFF(17," Borrar "),e.k0s()()}}let U=(()=>{class a{constructor(t,n,o,i,p,d,h,b){this.orderPipe=t,this.pipe=n,this.configCatalogoWsRestService=o,this.modalService=i,this.location=p,this.route=d,this.storage=h,this.instanciaValidaService=b,this._success=new k.B7,this.successMessage="",this._error=new k.B7,this.errorMessage="",this.modoEdicion=0,this.userid="",this.vista="catalogowsrest",this.closeResult="",this.page=1,this.pageSize=4,this.btnGuardarClicked=!1,this.siGuardando=!1,this.siCargandoDatos=!1,this.limiteInicial=1,this.offset=10,this.filtroTabla={$or:[{codigo:""},{descripcion:""},{servidor:""},{protocolo:""},{puerto:""},{contentroot:""},{apppath:""},{classpath:""},{metodo:""},{metodohttp:""},{estado:""}]},this.codigoAscendente=!1,this.descripcionAscendente=!0,this.columnaActual="",this.tipoOrdenPorDefecto=!1,this.onPageChange=(_,E)=>{console.log("Pagina actual",_," | Elementos por pagina: ",E," | Ultima pagina: ",Math.ceil(this.regs.length/E))}}ngOnInit(){this.userid=this.storage.get("username"),this.route.queryParams.subscribe(t=>{console.log("CatalogoWsRest onInit: usuario, vista: ",this.userid,",",t.v),this.location.replaceState("/index.html?id="+this.userid+"&v="+this.vista)}),this.siCargandoDatos=!0,this.configCatalogoWsRestService.consultarTodo(this.limiteInicial,this.offset).subscribe(t=>{this.collectionSize=t.length,this.regs=t,this.registrosOrdenadosFiltrados=this.regs,console.log("CollectionSize: ",this.collectionSize),console.log("Data consultarPorId: ",t),this.siCargandoDatos=!1}),this._success.subscribe(t=>this.successMessage=t),this._success.pipe((0,O.B)(5e3)).subscribe(()=>this.successMessage=""),this._error.subscribe(t=>this.errorMessage=t),this._error.pipe((0,O.B)(5e3)).subscribe(()=>this.errorMessage="")}getDismissReason(t){return t===f.PQ.ESC?"Al presionar ESC":t===f.PQ.BACKDROP_CLICK?"Al cliquear pantalla de fondo":`Con: ${t}`}get obtenerRegistros(){if(void 0!==this.registrosOrdenadosFiltrados)return console.log("obtenerRegistros"),this.registrosOrdenadosFiltrados.map((t,n)=>({id:n+1,...t})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onRowClic(t,n,o,i,p,d,h,b,_,E,v,r){this.modoEdicion=2,this.identificadorEnEdicion=t,this.codigoEnEdicion=n,this.descripcionEnEdicion=o,this.protocoloEnEdicion=i,this.servidorEnEdicion=d,this.puertoEnEdicion=p,this.contentrootEnEdicion=h,this.apppathEnEdicion=b,this.classpathEnEdicion=_,this.metodoEnEdicion=E,this.metodohttpEnEdicion=v,this.estadoEnEdicion=r}onBtnNuevoClic(){this.modoEdicion=1,this.identificadorEnEdicion=0,this.codigoEnEdicion="",this.descripcionEnEdicion="",this.protocoloEnEdicion="",this.servidorEnEdicion="",this.puertoEnEdicion="",this.contentrootEnEdicion="",this.apppathEnEdicion="",this.classpathEnEdicion="",this.metodoEnEdicion="",this.metodohttpEnEdicion="",this.estadoEnEdicion=1}open(t){this.location.replaceState("/index.html?id="+this.userid+"&v="+this.vista),this.modalReference=this.modalService.open(t,{size:"xl",ariaLabelledBy:"modal-basic-title"}),this.modalReference.result.then(n=>{console.log("resultado: ",n),this.closeResult=`Cerrado con: ${n}`,"save"==n?console.log("Validar campos: "):console.log("Se cerro ventana. Limpiar campos en edicion")},n=>{console.log("Se cerro ventana. Limpiar campos en edidcion"),this.closeResult=`Raz\xf3n ${this.getDismissReason(n)}`})}confirmaBorrar(t){this.location.replaceState("/index.html?id="+this.userid+"&v="+this.vista),this.modalReference=this.modalService.open(t,{size:"sm",ariaLabelledBy:"modal-basic-title"}),this.modalReference.result.then(n=>{console.log("resultado: ",n),this.closeResult=`Cerrada con: ${n}`,"save"==n?console.log("Validar campos: "):console.log("Se cerro ventana. Limpiar campos en edicion")},n=>{console.log("Se cerro ventana. Limpiar campos en edidcion"),this.closeResult=`Raz\xf3n ${this.getDismissReason(n)}`})}validarCamposAntesDeGuardar(){var t=this;return(0,F.A)(function*(){let n=yield new Promise((o,i)=>{t.instanciaValidaService.validar(t.codigoEnEdicion,t.descripcionEnEdicion,t.protocoloEnEdicion,t.puertoEnEdicion,t.servidorEnEdicion,t.contentrootEnEdicion,t.apppathEnEdicion,t.classpathEnEdicion,t.metodoEnEdicion,t.metodohttpEnEdicion,t.estadoEnEdicion).subscribe(p=>{console.log("data: ",p),p.length>0&&o(p)})});return console.log("resultadoValidar: ",n),!n[0].error||(t._error.next(n[0].mensaje),!1)})()}guardarInformacion(){var t=this;return(0,F.A)(function*(){let n=yield t.validarCamposAntesDeGuardar();if(n){if(2==t.modoEdicion){let o=yield new Promise((i,p)=>{t.configCatalogoWsRestService.actualizar(t.identificadorEnEdicion,t.codigoEnEdicion,t.descripcionEnEdicion,t.protocoloEnEdicion,t.puertoEnEdicion,t.servidorEnEdicion,t.contentrootEnEdicion,t.apppathEnEdicion,t.classpathEnEdicion,t.metodoEnEdicion,t.metodohttpEnEdicion,t.estadoEnEdicion).subscribe(d=>{d.length>0&&("true"==d[0]?(t._success.next("Informacion guardada exitosamente"),t.cerrarModal(),t.modoEdicion=1,t.identificadorEnEdicion=0,t.codigoEnEdicion="",t.descripcionEnEdicion="",t.protocoloEnEdicion="",t.servidorEnEdicion="",t.puertoEnEdicion="",t.contentrootEnEdicion="",t.apppathEnEdicion="",t.classpathEnEdicion="",t.metodoEnEdicion="",t.metodohttpEnEdicion="",t.estadoEnEdicion=1,i(!0)):(t._error.next("Error al intentar guardar informacion"),i(!1))),t.siCargandoDatos=!0,t.configCatalogoWsRestService.consultarTodo(t.limiteInicial,t.offset).subscribe(h=>{t.regs=h,t.siCargandoDatos=!1,t.registrosOrdenadosFiltrados=t.regs,t.registrosOrdenadosFiltrados=t.regs,t.collectionSize=t.registrosOrdenadosFiltrados.length})})});return t.btnGuardarClicked=!1,t.siGuardando=!1,o}if(1==t.modoEdicion){let o=yield new Promise((i,p)=>{t.configCatalogoWsRestService.insertar(t.codigoEnEdicion,t.descripcionEnEdicion,t.protocoloEnEdicion,t.puertoEnEdicion,t.servidorEnEdicion,t.contentrootEnEdicion,t.apppathEnEdicion,t.classpathEnEdicion,t.metodoEnEdicion,t.metodohttpEnEdicion,t.estadoEnEdicion).subscribe(d=>{d.length>0&&("true"==d[0]?(t._success.next("Informacion guardada exitosamente"),t.cerrarModal(),t.modoEdicion=1,t.identificadorEnEdicion=0,t.modoEdicion=1,t.codigoEnEdicion="",t.descripcionEnEdicion="",t.protocoloEnEdicion="",t.servidorEnEdicion="",t.puertoEnEdicion="",t.contentrootEnEdicion="",t.apppathEnEdicion="",t.classpathEnEdicion="",t.metodoEnEdicion="",t.metodohttpEnEdicion="",t.estadoEnEdicion=1,i(!0)):(t._error.next("Error al intentar guardar informacion"),i(!1))),t.siCargandoDatos=!0,t.configCatalogoWsRestService.consultarTodo(t.limiteInicial,t.offset).subscribe(h=>{t.regs=h,t.siCargandoDatos=!1,t.registrosOrdenadosFiltrados=t.regs,t.registrosOrdenadosFiltrados=t.regs,t.collectionSize=t.registrosOrdenadosFiltrados.length})})});return t.btnGuardarClicked=!1,t.siGuardando=!1,o}}return t.btnGuardarClicked=!1,t.siGuardando=!1,n})()}cerrarModal(){this.modalReference.close()}onKeySearch(){this.filtroTabla.$or[0].codigo=this.searchText,this.filtroTabla.$or[1].descripcion=this.searchText,this.filtroTabla.$or[2].servidor=this.searchText,this.filtroTabla.$or[3].protocolo=this.searchText,this.filtroTabla.$or[4].puerto=this.searchText,this.filtroTabla.$or[5].contentroot=this.searchText,this.filtroTabla.$or[6].apppath=this.searchText,this.filtroTabla.$or[7].classpath=this.searchText,this.filtroTabla.$or[8].metodo=this.searchText,this.filtroTabla.$or[9].metodohttp=this.searchText,this.filtroTabla.$or[10].estado=this.searchText;let t=this.pipe.transform(this.regs,this.filtroTabla);this.registrosOrdenadosFiltrados=t,this.paginarRegistros()}paginarRegistros(){void 0!==this.registrosOrdenadosFiltrados&&(this.registrosOrdenadosFiltrados=""===this.searchText?this.regs:this.registrosOrdenadosFiltrados.map((t,n)=>({identificador:n+1,...t})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=this.registrosOrdenadosFiltrados.length)}onSort(t){this.columnaActual==t?(this.tipoOrdenActual=!this.tipoOrdenActual,console.log("ordenar por: ",t),this.registrosOrdenadosFiltrados=this.orderPipe.transform(this.registrosOrdenadosFiltrados,t,this.tipoOrdenActual),this.columnaActual=t):(console.log("ordenar por: ",t),this.registrosOrdenadosFiltrados=this.orderPipe.transform(this.registrosOrdenadosFiltrados,t,this.tipoOrdenPorDefecto),this.columnaActual=t,this.tipoOrdenActual=this.tipoOrdenPorDefecto)}onClicBtnEliminar(t){return null!=t&&(this.id_a_eliminar=t,!0)}eliminarRegistro(){var t=this;return(0,F.A)(function*(){(yield new Promise((o,i)=>{t.configCatalogoWsRestService.eliminar(t.id_a_eliminar).subscribe(p=>{p.length>0&&("true"==p[0]?(t._success.next("Registro borrado"),t.siCargandoDatos=!0,t.configCatalogoWsRestService.consultarTodo(t.limiteInicial,t.offset).subscribe(d=>{t.regs=d,t.siCargandoDatos=!1,t.registrosOrdenadosFiltrados=t.regs,null!=t.searchText&&null!=t.searchText&&""!=t.searchText&&(console.log("searchText: ",t.searchText),t.onKeySearch())}),o(!0)):(t._error.next("Error al intentar borrar"),o(!1)))})}))&&t.cerrarModal()})()}formatearSiNo(t){return 0==t?"NO":"SI"}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(P.F),e.rXU(x.L),e.rXU(y.W),e.rXU(f.Bq),e.rXU(j.aZ),e.rXU(R.nX),e.rXU(T.vb),e.rXU(B))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-cont-config-catalogowsrest"]],decls:73,vars:19,consts:[["numPages",""],["content",""],["FormConfirmarEliminar",""],[1,"divContenedor"],[1,"table-responsive",2,"max-width","99%"],[1,"container",2,"padding-bottom","1%"],[1,"row","align-items-start"],[1,"col-5","align-self-center"],[1,"col"],[1,"col-5","align-self-start",2,"padding-right","0.75%"],["type","text","name","search","placeholder","Buscar","autocomplete","off",1,"form-control","ml-2","form-control-sm","bi","bi-search",3,"keyup","ngModelChange","ngModel"],[1,"table","table-striped","table-hover","table-bordered","table-sm"],[1,"table-active"],["scope","col",3,"click"],[3,"hidden"],[3,"click",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2",2,"padding-right","0.25% !important"],[1,"pagination",3,"pageChange","collectionSize","page","pageSize"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["class","spinner-border text-primary","role","status",4,"ngIf"],["id","itemsPerPage","name","itemsPerPage",1,"custom-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"d-flex"],[1,"ml-auto","p-2",2,"padding-right","0.25% !important"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[3,"click"],[3,"result","term"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","modalEditForm","name","modalEditForm"],[1,"container-fluid"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"form-group"],["for","codigo"],[1,"input-group"],["id","codigo","minlength","1","maxlength","30","placeholder","Digite c\xf3digo","name","codigo","pattern","[A-Za-z0-9]",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","minlength","1","maxlength","100","placeholder","Digite Descripci\xf3n",1,"form-control",3,"ngModelChange","ngModel"],["for","protocolo"],["id","protocolo","name","protocolo","minlength","1","maxlength","100","placeholder","Digite Protocolo",1,"form-control",3,"ngModelChange","ngModel"],["for","servidor"],["id","servidor","name","servidor","minlength","1","maxlength","100","placeholder","Digite Servidor",1,"form-control",3,"ngModelChange","ngModel"],["for","puerto"],["id","puerto","name","puerto","type","number","min","1","maxlength","99999999","placeholder","Digite Puerto","onkeydown","javascript: return event.keyCode === 8 ||\n                                    event.keyCode === 46 ? true : !isNaN(Number(event.key))","oninput","this.value=this.value.slice(0,this.maxLength)",1,"form-control",3,"ngModelChange","ngModel"],["for","contentroot"],["id","contentroot","name","contentroot","minlength","1","maxlength","100","placeholder","Digite Content Root",1,"form-control",3,"ngModelChange","ngModel"],["for","apppath"],["id","apppath","name","apppath","minlength","1","maxlength","100","placeholder","Digite App Path",1,"form-control",3,"ngModelChange","ngModel"],["for","classpath"],["id","classpath","name","classpath","minlength","1","maxlength","100","placeholder","Digite Class Path",1,"form-control",3,"ngModelChange","ngModel"],["for","estado"],["id","estado","name","estado",1,"form-control",3,"ngModelChange","ngModel"],["value","1"],["value","0"],["for","metodo"],["id","metodo","name","metodo","minlength","1","maxlength","100","placeholder","Digite M\xe9todo",1,"form-control",3,"ngModelChange","ngModel"],["for","metodohttp"],["id","metodohttp","name","metodohttp","minlength","1","maxlength","100","placeholder","Digite M\xe9todo HTTP",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","success",3,"close",4,"ngIf"],["type","danger",3,"close",4,"ngIf"],["type","button",1,"btn","btn-outline-dark","btn-sm",3,"click"],["type","button",1,"btn","btn-success","btn-sm",3,"click","disabled"],["type","success",3,"close"],["type","danger",3,"close"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",3),e.nrm(1,"br"),e.j41(2,"form")(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"h5"),e.EFF(8,"Configuraci\xf3n Cat\xe1logo de WS RESTful"),e.k0s()(),e.nrm(9,"div",8),e.j41(10,"div",9)(11,"input",10),e.bIt("keyup",function(){return e.eBV(i),e.Njj(o.onKeySearch())}),e.mxI("ngModelChange",function(d){return e.eBV(i),e.DH7(o.searchText,d)||(o.searchText=d),e.Njj(d)}),e.k0s()()()(),e.j41(12,"table",11)(13,"thead")(14,"tr",12)(15,"th",13),e.bIt("click",function(){return e.eBV(i),e.Njj(o.onSort("codigo"))}),e.EFF(16," C\xf3digo"),e.j41(17,"span",14),e.EFF(18,"\u25bc"),e.k0s(),e.j41(19,"span",14),e.EFF(20,"\u25b2"),e.k0s()(),e.j41(21,"th",13),e.bIt("click",function(){return e.eBV(i),e.Njj(o.onSort("descripcion"))}),e.EFF(22," Descripci\xf3n"),e.j41(23,"span",14),e.EFF(24,"\u25bc"),e.k0s(),e.j41(25,"span",14),e.EFF(26,"\u25b2"),e.k0s()(),e.j41(27,"th",13),e.bIt("click",function(){return e.eBV(i),e.Njj(o.onSort("servidor"))}),e.EFF(28," Servidor"),e.j41(29,"span",14),e.EFF(30,"\u25bc"),e.k0s(),e.j41(31,"span",14),e.EFF(32,"\u25b2"),e.k0s()(),e.j41(33,"th"),e.EFF(34,"Protocolo"),e.k0s(),e.j41(35,"th"),e.EFF(36,"Puerto"),e.k0s(),e.j41(37,"th"),e.EFF(38,"Content Root"),e.k0s(),e.j41(39,"th"),e.EFF(40,"App Path"),e.k0s(),e.j41(41,"th"),e.EFF(42,"Class Path"),e.k0s(),e.j41(43,"th"),e.EFF(44,"Estado"),e.k0s(),e.j41(45,"th"),e.EFF(46,"M\xe9todo"),e.k0s(),e.j41(47,"th"),e.EFF(48,"M\xe9todo HTTP"),e.k0s()()(),e.j41(49,"tbody"),e.DNE(50,V,23,22,"tr",15),e.nI1(51,"filterBy"),e.k0s()(),e.j41(52,"div",16)(53,"ngb-pagination",17,0),e.mxI("pageChange",function(d){return e.eBV(i),e.DH7(o.page,d)||(o.page=d),e.Njj(d)}),e.bIt("pageChange",function(d){return e.eBV(i),e.Njj(o.onPageChange(d,o.pageSize))}),e.DNE(55,W,1,0,"ng-template",18)(56,N,1,0,"ng-template",19),e.k0s(),e.DNE(57,$,3,0,"div",20),e.j41(58,"select",21),e.mxI("ngModelChange",function(d){return e.eBV(i),e.DH7(o.pageSize,d)||(o.pageSize=d),e.Njj(d)}),e.j41(59,"option",22),e.EFF(60,"2 items por p\xe1gina"),e.k0s(),e.j41(61,"option",22),e.EFF(62,"4 items por p\xe1gina"),e.k0s(),e.j41(63,"option",22),e.EFF(64,"6 items por p\xe1gina"),e.k0s()()(),e.j41(65,"div",23)(66,"div",24)(67,"button",25),e.bIt("click",function(){e.eBV(i);const d=e.sdS(70);return o.onBtnNuevoClic(),e.Njj(o.open(d))}),e.EFF(68," Nuevo registro "),e.k0s()()()()(),e.DNE(69,w,87,15,"ng-template",null,1,e.C5r)(71,H,18,0,"ng-template",null,2,e.C5r),e.k0s()}2&n&&(e.R7$(11),e.R50("ngModel",o.searchText),e.R7$(6),e.Y8G("hidden",""==o.columnaActual||"codigo"!=o.columnaActual||"codigo"==o.columnaActual&&1==o.tipoOrdenActual),e.R7$(2),e.Y8G("hidden",""==o.columnaActual||"codigo"!=o.columnaActual||"codigo"==o.columnaActual&&0==o.tipoOrdenActual),e.R7$(4),e.Y8G("hidden",""==o.columnaActual||"descripcion"!=o.columnaActual||"descripcion"==o.columnaActual&&1==o.tipoOrdenActual),e.R7$(2),e.Y8G("hidden",""==o.columnaActual||"descripcion"!=o.columnaActual||"descripcion"==o.columnaActual&&0==o.tipoOrdenActual),e.R7$(4),e.Y8G("hidden",""==o.columnaActual||"servidor"!=o.columnaActual||"servidor"==o.columnaActual&&1==o.tipoOrdenActual),e.R7$(2),e.Y8G("hidden",""==o.columnaActual||"servidor"!=o.columnaActual||"servidor"==o.columnaActual&&0==o.tipoOrdenActual),e.R7$(19),e.Y8G("ngForOf",e.i5U(51,16,o.obtenerRegistros,o.filtroTabla)),e.R7$(3),e.Y8G("collectionSize",o.collectionSize),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(4),e.Y8G("ngIf",o.siCargandoDatos),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[j.Sq,j.bT,f.Cv,f.s5,f.PB,f.hO,f.Qr,u.qT,u.xH,u.y7,u.me,u.Q0,u.wz,u.BC,u.cb,u.xh,u.tU,u.R_,u.VZ,u.vS,u.cV,x.L],styles:["@media (min-width: 1281px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .custom-select[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width: 1025px) and (max-width: 1280px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .custom-select[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width: 768px) and (max-width: 1024px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .custom-select[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .custom-select[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width: 481px) and (max-width: 767px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .custom-select[_ngcontent-%COMP%]{font-size:.688rem!important}}@media (min-width: 320px) and (max-width: 480px){.divContenedor[_ngcontent-%COMP%]{min-height:400px;border-right:1px solid #a9b9cd!important;border-left:1px solid #a9b9cd!important;border-bottom:1px solid #a9b9cd!important;border-bottom-left-radius:.6rem!important;border-bottom-right-radius:.6rem!important;background-color:#fff;padding-left:1%}.table.table-striped.table-hover.table-bordered.table-sm[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%], .custom-select[_ngcontent-%COMP%]{font-size:.688rem!important}}"]})}return a})();const L=[{path:"",component:(()=>{class a{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-catalogowsrest"]],decls:5,vars:0,consts:[[1,"container"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-header")(2,"app-menu")(3,"app-cont-config-catalogowsrest")(4,"app-footer"),e.k0s())},dependencies:[G.l,I.n,D.Z,U]})}return a})()}];let K=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.$C({type:a});static#o=this.\u0275inj=e.G2t({imports:[R.iI.forChild(L),R.iI]})}return a})();var Q=m(1269),Z=m(764);let J=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.$C({type:a});static#o=this.\u0275inj=e.G2t({providers:[j.QX,Z.g],imports:[j.MD,K,f.UN,Q.X,u.YN,x.x,P.R]})}return a})()}}]);